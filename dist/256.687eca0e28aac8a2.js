"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[256],{2256:(re,h,n)=>{n.r(h),n.d(h,{UsersModule:()=>V});var p=n(4755),f=n(6873),v=n(9549),Z=n(832),o=n(9401),_=n(792),C=n(5664),b=n(8097),T=n(3669),x=n(4333),A=n(8280);let I=(()=>{class t{}return t.optionvalue=[{value:0,name:"InActive"},{value:1,name:"Active"}],t})();var U=n(5226),g=n.n(U),e=n(2223),q=n(3071),w=n(1217),N=n(1292),c=n(9114),F=n(787),m=n(6012),k=n(1728),M=n(430);function J(t,a){1&t&&(e.TgZ(0,"div",34),e._uU(1,"Name is required."),e.qZA())}function S(t,a){if(1&t&&(e.TgZ(0,"mat-hint",32),e.YNc(1,J,2,0,"div",33),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.user_name.errors&&r.f.user_name.errors.required)}}function L(t,a){1&t&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function Y(t,a){if(1&t&&(e.TgZ(0,"mat-hint",32),e.YNc(1,L,2,0,"div",33),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.user_phone.errors&&r.f.user_phone.errors.required)}}function Q(t,a){1&t&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function y(t,a){if(1&t&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Q,2,0,"div",33),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.user_designation.errors&&r.f.user_designation.errors.required)}}function O(t,a){1&t&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function D(t,a){if(1&t&&(e.TgZ(0,"mat-hint",32),e.YNc(1,O,2,0,"div",33),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.user_email.errors&&r.f.user_email.errors.required)}}function P(t,a){1&t&&(e.TgZ(0,"div",34),e._uU(1,"Password is required."),e.qZA())}function j(t,a){if(1&t&&(e.TgZ(0,"mat-hint",32),e.YNc(1,P,2,0,"div",33),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.user_password.errors&&r.f.user_password.errors.required)}}function B(t,a){if(1&t&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&t){const r=a.$implicit;e.Q6J("value",r.value),e.xp6(1),e.hij(" ",r.name," ")}}function W(t,a){1&t&&(e.TgZ(0,"div",34),e._uU(1,"Role is required."),e.qZA())}function R(t,a){if(1&t&&(e.TgZ(0,"mat-hint",32),e.YNc(1,W,2,0,"div",33),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.sort_order.errors&&r.f.sort_order.errors.required)}}function E(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"label",36)(1,"mat-checkbox",37),e.NdJ("change",function(){const i=e.CHM(r).$implicit,u=e.oxw();return e.KtG(u.toggleCheckbox(i))}),e._uU(2),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5),e.qZA()(),e._UZ(6,"span",38),e.qZA()}if(2&t){const r=a.$implicit,s=e.oxw();e.xp6(1),e.Q6J("checked",s.isChecked(r)),e.xp6(1),e.hij(" ",r.name," "),e.xp6(3),e.Oqu(r.badge)}}function z(t,a){1&t&&(e.TgZ(0,"div",40),e._uU(1,"UserRole is required"),e.qZA())}function G(t,a){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,z,2,0,"div",39),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.checkedItems.errors&&(null==r.f.checkedItems.errors?null:r.f.checkedItems.errors.required))}}function H(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"label",36),e._uU(1),e.TgZ(2,"mat-checkbox",41),e.NdJ("change",function(){const i=e.CHM(r).$implicit,u=e.oxw();return e.KtG(u.toggleSelection(i))}),e.qZA(),e._UZ(3,"span",38),e.qZA()}if(2&t){const r=a.$implicit;e.xp6(1),e.hij(" ",r.label," "),e.xp6(1),e.Q6J("checked",r.selected)}}function $(t,a){1&t&&(e.TgZ(0,"div",40),e._uU(1,"Website-Role is required"),e.qZA())}function K(t,a){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,$,2,0,"div",39),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.f.checkedItemsforwebsite.errors&&(null==r.f.checkedItemsforwebsite.errors?null:r.f.checkedItemsforwebsite.errors.required))}}const X=[{path:"",children:[{path:"create-user",component:(()=>{class t{constructor(r,s,l,i,u,d){this.fb=r,this.router=s,this.userservice=l,this.renderer=i,this.el=u,this.activeroute=d,this.default="Select Option",this.options=[],this.userFile=null,this.checkedItems=[],this.items=[{id:1,name:"Admin (A)",badge:"(Admin gets access to all the modules)"},{id:2,name:"Agent (AG)",badge:"(Agents will be able to see their own Listings, and the Leads generated for their listings)"},{id:3,name:"Property Listing (PL)",badge:"(Users will be able to add new Listings)"},{id:4,name:"Lead Manager (LM)",badge:"(Users will be able to view & manage all Leads)"},{id:5,name:"Sales & Marketing (SM)",badge:"(Users will be able to promote Listings (Exclusive, Trending, etc))"},{id:6,name:"Content Manager (C)",badge:"(Users will be able to manage Content (News, Banners, etc))"},{id:7,name:"Telecaller (TC)",badge:"(View and manage all Unverified Leads)"}],this.items2=[{id:1,label:"management",selected:!1},{id:2,label:"sale_agent",selected:!1},{id:3,label:"marketing_team",selected:!1},{id:4,label:"admin_team",selected:!1}],this.selectedOption=null,this.client_user_id=Number(this.activeroute.snapshot.paramMap.get("id")),""!=this.client_user_id&&this.userservice.edit(this.client_user_id).subscribe(te=>{this.userObj=te})}ngOnInit(){this.userObj={},this.userFrom=this.fb.group({user_name:new o.NI("",[o.kI.required]),user_phone:new o.NI("",[o.kI.required]),user_designation:new o.NI("",[o.kI.required]),user_email:new o.NI("",[o.kI.required]),user_password:new o.NI("",[o.kI.required]),user_status:new o.NI("",[o.kI.required]),sort_order:new o.NI("",[o.kI.required]),checkedItems:new o.NI("",[o.kI.required]),checkedItemsforwebsite:new o.NI("",[o.kI.required])}),this.userFrom.valueChanges.subscribe(r=>{this.isNextDisabled=!this.userFrom.valid}),this.options=I.optionvalue}userImage(r){this.userFile=r.target.files[0],this.userFile2=r.target.files[0]}isChecked(r){return this.checkedItems.includes(r.id)}toggleCheckbox(r){this.isChecked(r)?this.checkedItems=this.checkedItems.filter(s=>s!==r.id):this.checkedItems.push(r.id)}toggleSelection(r){r.selected||(this.items2.forEach(s=>{s.selected=!1}),r.selected=!0,this.websitestatus=r.label)}get f(){return this.userFrom.controls}hideFirstFiveCharacters(r){return r.substr(5)}create(r){if(!this.userFrom.valid)return void g().fire("Something Went Wrong. Please Check All the Fields","error");const s=new FormData,l=0!==this.client_user_id,i=this.userFrom.value;s.append("client_user_role",this.checkedItems.join(",")),s.append("client_user_name",i.user_name),s.append("client_user_phone",i.user_phone),s.append("client_user_designation",i.user_designation),s.append("client_user_email",i.user_email),s.append("password",i.user_password),s.append("client_sort_order",i.sort_order),s.append("client_user_status",i.user_status),s.append("client_website_status",this.websitestatus),this.userFile&&s.append("client_user_image",this.userFile),this.userservice.create(s).subscribe(d=>{"success"==d.status?(g().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Create User Successfully",icon:"success"}),this.userFrom.reset()):g().fire("Some Thing was wrong...","","error")},d=>{console.log(d)}),(1==l?this.userservice.create(s):this.userservice.update(s)).subscribe(d=>{console.log(d)})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(f.F0),e.Y36(q.K),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["appcreate-user"]],decls:91,vars:13,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"col-sm-6","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px"],["appearance","outline",1,"w-100"],["matInput","","placeholder","UserName","formControlName","user_name",2,"border-radius","0px"],["matPrefix","",1,"op-5"],["name","user",1,"icon-20","d-flex"],["class","m-b-16 error-msg",4,"ngIf"],["matInput","","type","","number","","placeholder","UserPhone","formControlName","user_phone",2,"border-radius","0px"],[1,"col-sm-12","custom_lable_col"],["matInput","","placeholder","Designation....","formControlName","user_designation",2,"border-radius","0px"],["matInput","","type","email","placeholder","Email","formControlName","user_email",2,"border-radius","0px"],["matInput","","type","password","placeholder","Password","formControlName","user_password",2,"border-radius","0px"],["name","password",1,"icon-20","d-flex"],["appearance","outline"],[1,"d-block","custom_lable"],["placeholder","Type to Search","formControlName","user_status"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","email","placeholder","Sort Order","formControlName","sort_order",2,"border-radius","0px"],[1,"col-sm-12"],[1,"mb-3"],[1,"form-label"],["type","file","placeholder","Sort Order","autocomplete","off",1,"form-control",3,"change"],[1,"row","d-flex","justify-content-end"],["type","submit","type","submit","mat-flat-button","","color","primary",3,"disabled"],["class","checkbox_container",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"m-b-16","error-msg"],["class","text-error",4,"ngIf"],[1,"text-error"],[3,"value"],[1,"checkbox_container"],["type","checkbox","formControlName","checkedItems",3,"checked","change"],[1,"checkmark"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","checkbox","formControlName","checkedItemsforwebsite",3,"checked","change"]],template:function(r,s){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(i){return s.create(i)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title",4),e._uU(6,"Create User"),e.qZA()(),e.TgZ(7,"mat-card-content",5)(8,"div",1)(9,"div",6)(10,"mat-label",7),e._uU(11,"UserName"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.TgZ(14,"mat-icon",10),e._UZ(15,"i-tabler",11),e.qZA(),e.YNc(16,S,2,1,"mat-hint",12),e.qZA()(),e.TgZ(17,"div",6)(18,"mat-label",7),e._uU(19,"UserPhone"),e.qZA(),e.TgZ(20,"mat-form-field",8),e._UZ(21,"input",13),e.TgZ(22,"mat-icon",10),e._UZ(23,"i-tabler",11),e.qZA(),e.YNc(24,Y,2,1,"mat-hint",12),e.qZA()(),e.TgZ(25,"div",14)(26,"mat-label",7),e._uU(27,"Designation"),e.qZA(),e.TgZ(28,"mat-form-field",8),e._UZ(29,"input",15),e.TgZ(30,"mat-icon",10),e._UZ(31,"i-tabler",11),e.qZA(),e.YNc(32,y,2,1,"mat-hint",12),e.qZA()(),e.TgZ(33,"div",6)(34,"mat-label",7),e._uU(35,"Email"),e.qZA(),e.TgZ(36,"mat-form-field",8),e._UZ(37,"input",16),e.TgZ(38,"mat-icon",10),e._UZ(39,"i-tabler",11),e.qZA(),e.YNc(40,D,2,1,"mat-hint",12),e.qZA()(),e.TgZ(41,"div",6)(42,"mat-label",7),e._uU(43,"Password"),e.qZA(),e.TgZ(44,"mat-form-field",8),e._UZ(45,"input",17),e.TgZ(46,"mat-icon",10),e._UZ(47,"i-tabler",18),e.qZA(),e.YNc(48,j,2,1,"mat-hint",12),e.qZA()(),e.TgZ(49,"div",6)(50,"mat-label",7),e._uU(51,"Status"),e.qZA(),e.TgZ(52,"mat-form-field",19)(53,"mat-label",20),e._uU(54,"Status"),e.qZA(),e.TgZ(55,"mat-select",21),e.YNc(56,B,2,2,"mat-option",22),e.qZA()()(),e.TgZ(57,"div",6)(58,"mat-label",7),e._uU(59,"Sort Order"),e.qZA(),e.TgZ(60,"mat-form-field",8),e._UZ(61,"input",23),e.TgZ(62,"mat-icon",10),e._UZ(63,"i-tabler",11),e.qZA(),e.YNc(64,R,2,1,"mat-hint",12),e.qZA()(),e.TgZ(65,"div",24)(66,"div",25)(67,"label",26),e._uU(68,"User's Photo"),e.qZA(),e.TgZ(69,"input",27),e.NdJ("change",function(i){return s.userImage(i)}),e.qZA()()()(),e._UZ(70,"br"),e.TgZ(71,"div",28)(72,"div",24)(73,"button",29),e._uU(74,"Send"),e.qZA()()()()()(),e.TgZ(75,"div",2)(76,"mat-card")(77,"mat-card-header")(78,"mat-card-title",4),e._uU(79,"User Role"),e.qZA()(),e.TgZ(80,"mat-card-content")(81,"div",25),e.YNc(82,E,7,3,"label",30),e.YNc(83,G,2,1,"div",31),e.qZA()()(),e.TgZ(84,"mat-card")(85,"mat-card-header")(86,"mat-card-title",4),e._uU(87,"User Website Role"),e.qZA()(),e.TgZ(88,"mat-card-content"),e.YNc(89,H,4,2,"label",30),e.YNc(90,K,2,1,"div",31),e.qZA()()()()()),2&r&&(e.Q6J("formGroup",s.userFrom),e.xp6(16),e.Q6J("ngIf",s.f.user_name.touched&&s.f.user_name.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_phone.touched&&s.f.user_phone.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_designation.touched&&s.f.user_designation.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_email.touched&&s.f.user_email.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_password.touched&&s.f.user_password.invalid),e.xp6(8),e.Q6J("ngForOf",s.options),e.xp6(8),e.Q6J("ngIf",s.f.sort_order.touched&&s.f.sort_order.invalid),e.xp6(9),e.Q6J("disabled",s.userFrom.invalid||s.isNextDisabled),e.xp6(9),e.Q6J("ngForOf",s.items),e.xp6(1),e.Q6J("ngIf",s.f.checkedItems.touched&&s.f.checkedItems.invalid),e.xp6(6),e.Q6J("ngForOf",s.items2),e.xp6(1),e.Q6J("ngIf",s.f.checkedItemsforwebsite.touched&&s.f.checkedItemsforwebsite.invalid))},dependencies:[p.sg,p.O5,w.ey,N.oG,c.KE,c.hX,c.bx,c.qo,b.Nt,F.gD,m.a8,m.dn,m.dk,m.n5,k.lW,M.Hw,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,_.b],encapsulation:2}),t})(),data:{title:"User Managements",urls:[{title:"Dashboard",url:"users/create-user"},{title:"User Managements"}]}}]}];let V=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,f.Bz.forChild(X),v.q,o.u5,Z.FormModule,o.UX,_.e,_.e.pick(C),b.c,T.A0,x.JX,A.FA]}),t})()}}]);