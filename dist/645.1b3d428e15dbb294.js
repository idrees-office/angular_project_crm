"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[645],{5645:(ye,Y,r)=>{r.r(Y),r.d(Y,{LeadsModule:()=>we});var u=r(4755),b=r(6873),c=r(9401),B=r(5226),p=r.n(B),t=r(2223),T=r(620),_=r(9114),L=r(8097),m=r(6012),q=r(1728),k=r(430),x=r(792);function F(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1," Title is required. "),t.qZA())}function $(n,i){if(1&n&&(t.TgZ(0,"mat-hint",25),t.YNc(1,F,2,0,"div",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.lead_title.errors&&e.f.lead_title.errors.required)}}function j(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1," ClientName is required. "),t.qZA())}function E(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1," ClientName is too short. "),t.qZA())}function H(n,i){if(1&n&&(t.TgZ(0,"mat-hint",25),t.YNc(1,j,2,0,"div",26),t.YNc(2,E,2,0,"div",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.customer_name.errors&&e.f.customer_name.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.customer_name.errors&&e.f.customer_name.errors.minlength)}}function G(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1," Email is required. "),t.qZA())}function W(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1," Please Enter the Valid email. "),t.qZA())}function z(n,i){if(1&n&&(t.TgZ(0,"mat-hint",25),t.YNc(1,G,2,0,"div",26),t.YNc(2,W,2,0,"div",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.customer_email.errors&&e.f.customer_email.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.customer_email.errors&&e.f.customer_email.errors.email)}}function K(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1," PhoneNumber is required. "),t.qZA())}function X(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1,' "Please enter a valid phone number with a code starting with +. '),t.qZA())}function V(n,i){if(1&n&&(t.TgZ(0,"mat-hint",25),t.YNc(1,K,2,0,"div",26),t.YNc(2,X,2,0,"div",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.customer_phone.errors&&e.f.customer_phone.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.customer_phone.errors&&e.f.customer_phone.errors.pattern)}}function tt(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1," PhoneNumber is required. "),t.qZA())}function et(n,i){1&n&&(t.TgZ(0,"div",27),t._uU(1,' "Please enter a valid phone number with a code starting with +. '),t.qZA())}function nt(n,i){if(1&n&&(t.TgZ(0,"mat-hint",25),t.YNc(1,tt,2,0,"div",26),t.YNc(2,et,2,0,"div",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.customer_phone2.errors&&e.f.customer_phone2.errors.required),t.xp6(1),t.Q6J("ngIf",e.f.customer_phone2.errors&&e.f.customer_phone2.errors.pattern)}}let ot=(()=>{class n{constructor(e,o,a){this.LeadsService=e,this.router=o,this.fb=a,this.filteredAgents=[],this.agentIdControl=new c.NI}ngOnInit(){this.leadForm=this.fb.group({lead_title:new c.NI("",[c.kI.required]),customer_name:new c.NI("",[c.kI.required,c.kI.minLength(4)]),customer_phone:new c.NI("",[c.kI.required,c.kI.pattern(/^\+(?:[0-9] ?){6,14}[0-9]$/)]),customer_phone2:new c.NI("",[c.kI.required,c.kI.pattern(/^\+(?:[0-9] ?){6,14}[0-9]$/)]),customer_email:new c.NI("",[c.kI.required,c.kI.email]),customer_position:new c.NI(""),lead_comments:new c.NI("")}),this.userData=localStorage.getItem("userData"),this.user=JSON.parse(this.userData),this.loginuserId=this.user.client_user_id,this.role=this.user.role_id}submitForm(e){if(!this.leadForm.invalid&&this.leadForm.valid){const o=new FormData,a=this.leadForm.value;o.append("login_user_id",1==this.role||1===this.role?this.loginuserId:"empty"),o.append("lead_title",a.lead_title),o.append("agent_id",a.agent_id),o.append("customer_name",a.customer_name),o.append("customer_phone",a.customer_phone),o.append("customer_email",a.customer_email),o.append("customer_position",a.customer_position),o.append("customer_phone2",a.customer_phone2),o.append("lead_comments",a.lead_comments),this.LeadsService.createLead(o).subscribe(s=>{"success"===s.status&&(p().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Create Lead Successfully",icon:"success"}),this.leadForm.reset(),this.router.navigate(["/leads/assign-lead"]))},s=>{(403===s.status||403==s.status)&&(p().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"You Don't Save Pemission to Add Leads",icon:"success"}),this.router.navigate(["error"]))})}}onAgentChange(e){const o=this.leadForm.get("agent_id")?.value;this.LeadsService.AgentNameById(o).subscribe(a=>{a&&a.length>0?this.selectedAgentName=""===a[0].client_user_name?"empty":a[0].client_user_name:alert("Could Not find Any User")},a=>{(430==a.status||430===a.status)&&this.router.navigate(["error"])})}filterAgents(e){const o=e.target.value;"string"==typeof o&&(this.allAgents=this.allAgents.filter(a=>a.client_user_name.toLowerCase().includes(o.toLowerCase())))}get f(){return this.leadForm.controls}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.C),t.Y36(b.F0),t.Y36(c.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-lead"]],decls:80,vars:6,consts:[[1,"row"],[1,"col-lg-4"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],["id","leadForm","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"col-sm-12","d-flex","align-items-center"],[1,"mat-subtitle-2","f-w-600","d-block","m-b-16"],[1,"col-sm-12"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Lead Title #XXXXXX","formControlName","lead_title",2,"border-radius","0px"],["matPrefix","",1,"op-5"],["name","user",1,"icon-20","d-flex"],["class","m-b-16 error-msg",4,"ngIf"],["matInput","","placeholder","john.deo","type","text","formControlName","customer_name"],["name","mail",1,"icon-20","d-flex"],["matInput","","placeholder","john.deo","type","email","formControlName","customer_email"],["matInput","","placeholder","123 4561 123","formControlName","customer_phone"],["name","phone",1,"icon-20","d-flex"],["matInput","","placeholder","123 4561 123","formControlName","customer_phone2"],["matInput","","placeholder","Position","formControlName","customer_position"],["rows","5","formControlName","lead_comments","matInput","","placeholder","Hi, Do you have a moment to talk Deo ?"],["name","message-2",1,"icon-20","d-flex"],[1,"row","justify-content-end"],["mat-flat-button","","color","primary",2,"border-radius","0px"],[1,"m-b-16","error-msg"],["class","text-error",4,"ngIf"],[1,"text-error"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title",3),t._uU(5,"Create Leads"),t.qZA()(),t.TgZ(6,"mat-card-content",4)(7,"form",5),t.NdJ("ngSubmit",function(s){return o.submitForm(s)}),t.TgZ(8,"div",0)(9,"div",6)(10,"mat-label",7),t._uU(11,"Lead Title"),t.qZA()(),t.TgZ(12,"div",8)(13,"mat-form-field",9),t._UZ(14,"input",10),t.TgZ(15,"mat-icon",11),t._UZ(16,"i-tabler",12),t.qZA(),t.YNc(17,$,2,1,"mat-hint",13),t.qZA()()(),t.TgZ(18,"div",0)(19,"div",6)(20,"mat-label",7),t._uU(21,"Client Name"),t.qZA()(),t.TgZ(22,"div",8)(23,"mat-form-field",9),t._UZ(24,"input",14),t.TgZ(25,"mat-icon",11),t._UZ(26,"i-tabler",15),t.qZA(),t.YNc(27,H,3,2,"mat-hint",13),t.qZA()()(),t.TgZ(28,"div",0)(29,"div",6)(30,"mat-label",7),t._uU(31,"Client Email"),t.qZA()(),t.TgZ(32,"div",8)(33,"mat-form-field",9),t._UZ(34,"input",16),t.TgZ(35,"mat-icon",11),t._UZ(36,"i-tabler",15),t.qZA(),t.YNc(37,z,3,2,"mat-hint",13),t.qZA()()(),t.TgZ(38,"div",0)(39,"div",6)(40,"mat-label",7),t._uU(41,"Client Phone"),t.qZA()(),t.TgZ(42,"div",8)(43,"mat-form-field",9),t._UZ(44,"input",17),t.TgZ(45,"mat-icon",11),t._UZ(46,"i-tabler",18),t.qZA(),t.YNc(47,V,3,2,"mat-hint",13),t.qZA()()(),t.TgZ(48,"div",0)(49,"div",6)(50,"mat-label",7),t._uU(51,"Client WhatsApp Number"),t.qZA()(),t.TgZ(52,"div",8)(53,"mat-form-field",9),t._UZ(54,"input",19),t.TgZ(55,"mat-icon",11),t._UZ(56,"i-tabler",18),t.qZA(),t.YNc(57,nt,3,2,"mat-hint",13),t.qZA()()(),t.TgZ(58,"div",0)(59,"div",6)(60,"mat-label",7),t._uU(61,"Client Position (Optional)"),t.qZA()(),t.TgZ(62,"div",8)(63,"mat-form-field",9),t._UZ(64,"input",20),t.TgZ(65,"mat-icon",11),t._UZ(66,"i-tabler",12),t.qZA()()()(),t.TgZ(67,"div",0)(68,"div",6)(69,"mat-label",7),t._uU(70,"Comments"),t.qZA()(),t.TgZ(71,"div",8)(72,"mat-form-field",9),t._UZ(73,"textarea",21),t.TgZ(74,"mat-icon",11),t._UZ(75,"i-tabler",22),t.qZA()()()(),t.TgZ(76,"div",23)(77,"div",8)(78,"button",24),t._uU(79,"Send"),t.qZA()()()()()()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",o.leadForm),t.xp6(10),t.Q6J("ngIf",o.f.lead_title.touched&&o.f.lead_title.invalid),t.xp6(10),t.Q6J("ngIf",o.f.customer_name.touched&&o.f.customer_name.invalid),t.xp6(10),t.Q6J("ngIf",o.f.customer_email.touched&&o.f.customer_email.invalid),t.xp6(10),t.Q6J("ngIf",o.f.customer_phone.touched&&o.f.customer_phone.invalid),t.xp6(10),t.Q6J("ngIf",o.f.customer_phone2.touched&&o.f.customer_phone2.invalid))},dependencies:[u.O5,_.KE,_.hX,_.bx,_.qo,L.Nt,m.a8,m.dn,m.dk,m.n5,q.lW,k.Hw,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,x.b],styles:[".ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{background:#fff;border-color:#b3b3b3 #ccc #d9d9d9}.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]:hover{box-shadow:none}.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]{top:-2px;border-color:transparent transparent #999;border-width:0 5px 5px}.ng-select.ng-select-opened[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]:hover{border-color:transparent transparent #333}.ng-select.ng-select-opened.ng-select-top[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-top-right-radius:0;border-top-left-radius:0}.ng-select.ng-select-opened.ng-select-right[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.ng-select.ng-select-opened.ng-select-bottom[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}.ng-select.ng-select-opened.ng-select-left[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.ng-select.ng-select-focused[_ngcontent-%COMP%]:not(.ng-select-opened) > .ng-select-container[_ngcontent-%COMP%]{border-color:#007eff;box-shadow:inset 0 1px 1px #00000013,0 0 0 3px #007eff1a}.ng-select.ng-select-disabled[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]{background-color:#f9f9f9}.ng-select[_ngcontent-%COMP%]   .ng-has-value[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{display:none}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{color:#333;background-color:#fff;border-radius:4px;border:1px solid #ccc;min-height:36px;align-items:center}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]:hover{box-shadow:0 1px #0000000f}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{align-items:center;padding-left:10px}[dir=rtl][_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{padding-right:10px;padding-left:0}.ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{color:#999}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:36px}.ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{top:5px;left:0;padding-left:10px;padding-right:50px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-single[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{padding-right:10px;padding-left:50px}.ng-select.ng-select-multiple.ng-select-disabled[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{background-color:#f9f9f9;border:1px solid #e6e6e6}.ng-select.ng-select-multiple.ng-select-disabled[_ngcontent-%COMP%] > .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{padding:0 5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{padding-top:5px;padding-left:7px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]{padding-right:7px;padding-left:0}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{font-size:.9em;margin-bottom:5px;color:#333;background-color:#ebf5ff;border-radius:2px;margin-right:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]{margin-right:0;margin-left:5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value.ng-value-disabled[_ngcontent-%COMP%]{background-color:#f9f9f9}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value.ng-value-disabled[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{padding-left:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value.ng-value-disabled[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%]{padding-left:0;padding-right:5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-label[_ngcontent-%COMP%], .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon[_ngcontent-%COMP%]{display:inline-block;padding:1px 5px}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon[_ngcontent-%COMP%]:hover{background-color:#d1e8ff}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.left[_ngcontent-%COMP%]{border-right:1px solid #b8dbff}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.left[_ngcontent-%COMP%]{border-left:1px solid #b8dbff;border-right:none}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.right[_ngcontent-%COMP%]{border-left:1px solid #b8dbff}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-value[_ngcontent-%COMP%]   .ng-value-icon.right[_ngcontent-%COMP%]{border-left:0;border-right:1px solid #b8dbff}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{padding:0 0 3px 3px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%]{padding:0 3px 3px 0}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{color:#000}.ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{top:5px;padding-bottom:5px;padding-left:3px}[dir=rtl][_ngcontent-%COMP%]   .ng-select.ng-select-multiple[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   .ng-value-container[_ngcontent-%COMP%]   .ng-placeholder[_ngcontent-%COMP%]{padding-right:3px;padding-left:0}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]{color:#999}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]:hover   .ng-clear[_ngcontent-%COMP%]{color:#d0021b}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]:focus   .ng-clear[_ngcontent-%COMP%]{color:#d0021b}.ng-select[_ngcontent-%COMP%]   .ng-clear-wrapper[_ngcontent-%COMP%]:focus{outline:none}.ng-select[_ngcontent-%COMP%]   .ng-spinner-zone[_ngcontent-%COMP%]{padding:5px 5px 0 0}[dir=rtl][_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-spinner-zone[_ngcontent-%COMP%]{padding:5px 0 0 5px}.ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]{width:25px;padding-right:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]{padding-left:5px;padding-right:0}.ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]:hover   .ng-arrow[_ngcontent-%COMP%]{border-top-color:#666}.ng-select[_ngcontent-%COMP%]   .ng-arrow-wrapper[_ngcontent-%COMP%]   .ng-arrow[_ngcontent-%COMP%]{border-color:#999 transparent transparent;border-style:solid;border-width:5px 5px 2.5px}.ng-dropdown-panel[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;box-shadow:0 1px #0000000f;left:0}.ng-dropdown-panel.ng-select-top[_ngcontent-%COMP%]{bottom:100%;border-top-right-radius:4px;border-top-left-radius:4px;border-bottom-color:#e6e6e6;margin-bottom:-1px}.ng-dropdown-panel.ng-select-top[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.ng-dropdown-panel.ng-select-right[_ngcontent-%COMP%]{left:100%;top:0;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;border-bottom-color:#e6e6e6;margin-bottom:-1px}.ng-dropdown-panel.ng-select-right[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:first-child{border-top-right-radius:4px}.ng-dropdown-panel.ng-select-bottom[_ngcontent-%COMP%]{top:100%;border-bottom-right-radius:4px;border-bottom-left-radius:4px;border-top-color:#e6e6e6;margin-top:-1px}.ng-dropdown-panel.ng-select-bottom[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.ng-dropdown-panel.ng-select-left[_ngcontent-%COMP%]{left:-100%;top:0;border-top-left-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:4px;border-bottom-color:#e6e6e6;margin-bottom:-1px}.ng-dropdown-panel.ng-select-left[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]:first-child{border-top-left-radius:4px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:5px 7px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-footer[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding:5px 7px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;padding:8px 10px;font-weight:500;color:#0000008a;cursor:pointer}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-disabled[_ngcontent-%COMP%]{cursor:default}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-marked[_ngcontent-%COMP%]{background-color:#f5faff}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-selected[_ngcontent-%COMP%], .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-optgroup.ng-option-selected.ng-option-marked[_ngcontent-%COMP%]{color:#0000008a;background-color:#ebf5ff;font-weight:600}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]{background-color:#fff;color:#000000de;padding:8px 10px}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected[_ngcontent-%COMP%], .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected.ng-option-marked[_ngcontent-%COMP%]{color:#333;background-color:#ebf5ff}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected[_ngcontent-%COMP%]   .ng-option-label[_ngcontent-%COMP%], .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-selected.ng-option-marked[_ngcontent-%COMP%]   .ng-option-label[_ngcontent-%COMP%]{font-weight:600}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-marked[_ngcontent-%COMP%]{background-color:#f5faff;color:#333}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-disabled[_ngcontent-%COMP%]{color:#ccc}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-child[_ngcontent-%COMP%]{padding-left:22px}[dir=rtl][_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option.ng-option-child[_ngcontent-%COMP%]{padding-right:22px;padding-left:0}.ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-tag-label[_ngcontent-%COMP%]{font-size:80%;font-weight:400;padding-right:5px}[dir=rtl][_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]   .ng-dropdown-panel-items[_ngcontent-%COMP%]   .ng-option[_ngcontent-%COMP%]   .ng-tag-label[_ngcontent-%COMP%]{padding-left:5px;padding-right:0}[dir=rtl][_ngcontent-%COMP%]   .ng-dropdown-panel[_ngcontent-%COMP%]{direction:rtl;text-align:right}  .mat-form-field-appearance-outline .mat-form-field-outline{border-radius:0}  .mat-form-field-appearance-outline .mat-form-field-flex{border-radius:0}.mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{height:40px}"]}),n})();var M=r(3276),O=r(2611),D=r(6451),P=r(9646),Q=r(2843),Z=r(8675),U=r(3900),f=r(4004),C=r(262),R=r(9234),A=r(3144),N=r(8995),J=r(1217),I=r(8467),d=r(3627);function it(n,i){1&n&&t._UZ(0,"mat-spinner")}function at(n,i){1&n&&(t.TgZ(0,"div",21),t._uU(1," API rate limit has been reached. It will be reset in one minute. "),t.qZA())}function st(n,i){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,it,1,0,"mat-spinner",19),t.YNc(2,at,2,0,"div",20),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoadingResults),t.xp6(1),t.Q6J("ngIf",e.isRateLimitReached)}}function rt(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1," # "),t.qZA())}function lt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.counter," ")}}function ct(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1," Lead Title "),t.qZA())}function dt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.lead_title||"Invalid Title"," ")}}function gt(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Agent Name "),t.qZA())}function pt(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.agent_name||"Invalid Name"," ")}}function mt(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Client Name "),t.qZA())}function ut(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.customer_name||"Invalid Name"," ")}}function _t(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Client Phone "),t.qZA())}function ht(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.customer_phone||"Invalid Name"," ")}}function ft(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1," Actions "),t.qZA())}function Ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",23)(1,"a",24),t.NdJ("click",function(a){const g=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.Delete(a,g.lead_id))}),t._UZ(2,"i-tabler",25),t.qZA()()}}function xt(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1," Reassign "),t.qZA())}function Mt(n,i){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.client_user_name,"")}}function Ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",26)(1,"mat-form-field",27),t._UZ(2,"input",28),t.TgZ(3,"mat-autocomplete",29,30),t.NdJ("optionSelected",function(a){const g=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onOptionSelected(a,g))}),t.YNc(5,Mt,2,2,"mat-option",31),t.qZA()()()}if(2&n){const e=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("matAutocomplete",e),t.xp6(1),t.Q6J("displayWith",o.displayLeadLabel),t.xp6(2),t.Q6J("ngForOf",o.allAgents)}}function Pt(n,i){1&n&&t._UZ(0,"tr",33)}function vt(n,i){1&n&&t._UZ(0,"tr",34)}let bt=(()=>{class n{constructor(e,o,a){this._httpClient=e,this._LeadsService=o,this._router=a,this.displayedColumns=["lead_id","lead_title","agent_name","customer_name","customer_phone","reassign","actions"],this.exampleDatabase=null,this.leadsData=[],this.counter=1,this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1}ngAfterViewInit(){this.exampleDatabase=new Zt(this._httpClient,this._router),this.sort&&this.paginator&&(this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,D.T)(this.sort.sortChange,this.paginator.page).pipe((0,Z.O)({}),(0,U.w)(()=>(this.isLoadingResults=!0,this.exampleDatabase.getLeads(this.sort.active,this.sort.direction,this.paginator.pageIndex))),(0,f.U)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=e.total_count,e.data)),(0,C.K)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,(0,P.of)([])))).subscribe(e=>this.leadsData=e))}ngOnInit(){this.userData=localStorage.getItem("userData"),this.user=JSON.parse(this.userData),this.loginuserId=this.user.client_user_id,this.role=this.user.role_id,this.agents()}Delete(e,o){p().fire({title:"Are you sure want to remove?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(a=>{a.isConfirmed&&this._LeadsService.DeleteLead(o).subscribe(s=>{"delete"===s.status&&(p().fire({title:"Success",html:"Lead Delete Successfully",timer:2e3,showConfirmButton:!1}),this.reloadData())},s=>{console.log(s)})})}reloadData(){this.sort&&this.paginator&&(this.isLoadingResults=!0,this.exampleDatabase.getLeads(this.sort.active,this.sort.direction,this.paginator.pageIndex).pipe((0,C.K)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,(0,P.of)([])))).subscribe(e=>{"data"in e&&(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=e.total_count,this.leadsData=e.data)}))}agents(){this._LeadsService.getAgentInfo().subscribe(e=>{this.allAgents=e},e=>{console.log(e)})}onOptionSelected(e,o){p().fire({html:"Are you sure want to Re-assign?",showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(a=>{if(a.isConfirmed){this.reassignLeadSelectedAgent=e.option.value;const g=o.lead_id;if(""!=this.reassignLeadSelectedAgent&&""!=g){var s=new FormData;this.loginuserId&&s.append("login_user_id",this.loginuserId),s.append("agent_id",this.reassignLeadSelectedAgent.client_user_id),s.append("lead_id",g),this._LeadsService.ReAssignLeads(s).subscribe(l=>{"success"===l.status&&(p().fire({title:"Success",html:"Lead Re-assigned Successfully",timer:2e3,showConfirmButton:!1}),this.reloadData())},l=>{console.log(l)})}else alert("SomeThing Wrong")}})}displayLeadLabel(e){return e?e.client_user_name:""}Reassign(e,o){""!=o&&p().fire({html:"Are you sure want to Re-assign?",showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(a=>{a.isConfirmed&&alert("Open Modal")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.eN),t.Y36(T.C),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-re-assign"]],viewQuery:function(e,o){if(1&e&&(t.Gf(M.NW,5),t.Gf(O.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first)}},decls:31,vars:6,consts:[[1,"cardWithShadow"],[1,"example-container","m-t-30"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container","responsive-table"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","lead_id"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lead_title"],["matColumnDef","agent_name"],["matColumnDef","customer_name"],["matColumnDef","customer_phone"],["matColumnDef","actions"],["matColumnDef","reassign"],["mat-cell","","style","width: 50px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],[1,"example-rate-limit-reached"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-16"],["mat-cell",""],[1,"m-r-10","cursor-pointer",3,"click"],["name","trash",1,"icon-18"],["mat-cell","",2,"width","50px"],["appearance","outline",1,"custom-width","mt-5"],["type","text","placeholder","Select Agent","aria-label","Number","matInput","",3,"matAutocomplete"],[3,"displayWith","optionSelected"],["auto3","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0),t._UZ(1,"mat-card-header"),t.TgZ(2,"mat-card-content")(3,"div",1),t.YNc(4,st,3,2,"div",2),t.TgZ(5,"div",3)(6,"table",4),t.ynx(7,5),t.YNc(8,rt,2,0,"th",6),t.YNc(9,lt,2,1,"td",7),t.BQk(),t.ynx(10,8),t.YNc(11,ct,2,0,"th",6),t.YNc(12,dt,2,1,"td",7),t.BQk(),t.ynx(13,9),t.YNc(14,gt,2,0,"th",6),t.YNc(15,pt,2,1,"td",7),t.BQk(),t.ynx(16,10),t.YNc(17,mt,2,0,"th",6),t.YNc(18,ut,2,1,"td",7),t.BQk(),t.ynx(19,11),t.YNc(20,_t,2,0,"th",6),t.YNc(21,ht,2,1,"td",7),t.BQk(),t.ynx(22,12),t.YNc(23,ft,2,0,"th",6),t.YNc(24,Ct,3,0,"td",7),t.BQk(),t.ynx(25,13),t.YNc(26,xt,2,0,"th",6),t.YNc(27,Ot,6,3,"td",14),t.BQk(),t.YNc(28,Pt,1,0,"tr",15),t.YNc(29,vt,1,0,"tr",16),t.qZA()(),t._UZ(30,"mat-paginator",17),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",o.isLoadingResults||o.isRateLimitReached),t.xp6(2),t.Q6J("dataSource",o.leadsData),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.resultsLength)("pageSize",10))},dependencies:[u.sg,u.O5,N.XC,J.ey,N.ZL,_.KE,L.Nt,m.a8,m.dn,m.dk,I.Ou,M.NW,O.YE,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,x.b],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#980000;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.custom-width[_ngcontent-%COMP%]{width:180px}[_nghost-%COMP%]   .mdc-notched-outline[_ngcontent-%COMP%]{height:80%!important}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding-top:2px!important;padding-bottom:2px!important}[_nghost-%COMP%]     .mat-mdc-form-field-infix{min-height:10px!important}"]}),n})();class Zt{constructor(i,e){this._httpClient=i,this._router=e}getLeads(i,e,o){return this._httpClient.get(`${R.N.baseUrl}/leads/reassign-lead-list?sort=${i}&order=${e}&page=${o+1}`).pipe((0,f.U)(l=>({...l,data:l.data.map((h,w)=>({...h,counter:w+1+10*o}))})),(0,C.K)(l=>(this._router.navigate(["/error"]),(0,Q._)(l))))}}var At=r(1292);function wt(n,i){if(1&n&&(t.TgZ(0,"mat-option",30),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function Tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",19),t._UZ(1,"div",20),t.TgZ(2,"div",21)(3,"div",22)(4,"mat-form-field",23),t._UZ(5,"input",24),t.TgZ(6,"mat-autocomplete",25,26),t.NdJ("optionSelected",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.AssigMultipleLeadstoAgent(a))}),t.YNc(8,wt,2,2,"mat-option",27),t.ALo(9,"async"),t.qZA()(),t._uU(10," \xa0 "),t.TgZ(11,"a",28),t._UZ(12,"i-tabler",29),t.qZA()()()()}if(2&n){const e=t.MAs(7),o=t.oxw();t.xp6(5),t.Q6J("formControl",o.firstControl2)("matAutocomplete",e),t.xp6(1),t.Q6J("displayWith",o.displaySelectedAgent),t.xp6(2),t.Q6J("ngForOf",t.lcZ(9,4,o.filteredOptions2))}}function Lt(n,i){1&n&&t._UZ(0,"mat-spinner")}function Nt(n,i){1&n&&(t.TgZ(0,"div",34),t._uU(1," API rate limit has been reached. It will be reset in one minute. "),t.qZA())}function yt(n,i){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,Lt,1,0,"mat-spinner",32),t.YNc(2,Nt,2,0,"div",33),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoadingResults),t.xp6(1),t.Q6J("ngIf",e.isRateLimitReached)}}function Dt(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1," ?? "),t.qZA())}function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",36)(1,"mat-checkbox",37,38),t.NdJ("change",function(){const s=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.onLeadSelectionChange(s))}),t.qZA()()}}function Rt(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1," Lead Title "),t.qZA())}function It(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.lead_title||"Invalid Title"," ")}}function St(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Client Name "),t.qZA())}function Yt(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.customer_name||"Invalid Name"," ")}}function qt(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Client Phone "),t.qZA())}function Qt(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.customer_phone||"Invalid Name"," ")}}function Jt(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1," Assign "),t.qZA())}function Bt(n,i){if(1&n&&(t.TgZ(0,"mat-option",30),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function kt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",39)(1,"mat-form-field",23),t._UZ(2,"input",40),t.TgZ(3,"mat-autocomplete",25,26),t.NdJ("optionSelected",function(a){const g=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.onOptionSelected(a,g))}),t.YNc(5,Bt,2,2,"mat-option",27),t.ALo(6,"async"),t.qZA()()()}if(2&n){const e=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("formControl",o.firstControl)("matAutocomplete",e),t.xp6(1),t.Q6J("displayWith",o.displaySelectedAgent),t.xp6(2),t.Q6J("ngForOf",t.lcZ(6,4,o.filteredOptions))}}function Ft(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Source"),t.qZA())}function $t(n,i){if(1&n&&(t.TgZ(0,"span",42),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.lead_source||"Invalid Source"," ")}}function jt(n,i){if(1&n&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.lead_source||"Invalid Source"," ")}}function Et(n,i){if(1&n&&(t.TgZ(0,"span",44),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.lead_source||"Invalid Source"," ")}}function Ht(n,i){if(1&n&&(t.TgZ(0,"td",36),t.YNc(1,$t,2,1,"ng-template",41),t.YNc(2,jt,2,1,"ng-template",41),t.YNc(3,Et,2,1,"ng-template",41),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","created own"==e.lead_source||"created own"===e.lead_source),t.xp6(1),t.Q6J("ngIf","Facebook"==e.lead_source||"Facebook"===e.lead_source),t.xp6(1),t.Q6J("ngIf","Instagram"==e.lead_source||"Instagram"===e.lead_source)}}function Gt(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1," Date "),t.qZA())}function Wt(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_at,"dd-MM-yyyy HH:mm:ss")," ")}}function zt(n,i){1&n&&t._UZ(0,"tr",45)}function Kt(n,i){1&n&&t._UZ(0,"tr",46)}let Xt=(()=>{class n{constructor(e,o,a,s){this._httpClient=e,this._LeadsService=o,this._Router=a,this._ChangeDetectorRef=s,this.displayedColumns=["lead_id","lead_title","customer_name","customer_phone","lead_source","assign","date"],this.exampleDatabase=null,this.leadsData=[],this.counter=1,this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.allAgents=[],this.firstControl=new c.NI(""),this.firstControl2=new c.NI(""),this.assigemultipleleadtoagent=!1,this.selectedLeads=[]}ngAfterViewInit(){this.exampleDatabase=new Vt(this._httpClient),this.sort&&this.paginator&&(this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,D.T)(this.sort.sortChange,this.paginator.page).pipe((0,Z.O)({}),(0,U.w)(()=>(this.isLoadingResults=!0,this.exampleDatabase.getLeads(this.sort.active,this.sort.direction,this.paginator.pageIndex))),(0,f.U)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=e.total_count,e.data)),(0,C.K)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,(0,P.of)([])))).subscribe(e=>this.leadsData=e))}ngOnInit(){this.userData=localStorage.getItem("userData"),this.user=JSON.parse(this.userData),this.loginuserId=this.user.client_user_id,this.role=this.user.role_id,this.agents(),this.filteredOptions=this.firstControl.valueChanges.pipe((0,Z.O)(""),(0,f.U)(e=>this._filter(e))),this.filteredOptions2=this.firstControl2.valueChanges.pipe((0,Z.O)(""),(0,f.U)(e=>this._filter(e)))}_filter(e){return this.allAgents.filter(o=>o.client_user_name.includes(e)).map(o=>({name:o.client_user_name,id:o.client_user_id}))}displaySelectedAgent(e){return e?e.name:""}agents(){this._LeadsService.getAgentInfo().subscribe(e=>{this.allAgents=e},e=>{(430==e.status||430===e.status)&&this._Router.navigate(["error"])})}Delete(e,o){p().fire({title:"Are you sure want to remove?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(a=>{a.isConfirmed&&this._LeadsService.DeleteLead(o).subscribe(s=>{"delete"===s.status&&(p().fire({title:"Success",html:"Lead Delete Successfully",timer:2e3,showConfirmButton:!1}),this.reloadData())},s=>{(430==s.status||430===s.status)&&this._Router.navigate(["error"])})})}reloadData(){this.sort&&this.paginator&&(this.isLoadingResults=!0,this.exampleDatabase.getLeads(this.sort.active,this.sort.direction,this.paginator.pageIndex).pipe((0,C.K)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,(0,P.of)([])))).subscribe(e=>{"data"in e&&(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=e.total_count,this.leadsData=e.data)}))}onOptionSelected(e,o){this.firstControl.setValue(e.option.value.name),this._ChangeDetectorRef.detectChanges(),p().fire({html:"Are you sure want to Assign?",showCloseButton:!0,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(s=>{if(s.isConfirmed){this.reassignLeadSelectedAgent=e.option.value;const l=o.lead_id;if(""!=this.reassignLeadSelectedAgent&&""!=l){var g=new FormData;g.append("agent_id",this.reassignLeadSelectedAgent.id),g.append("lead_id",l),this.loginuserId&&g.append("login_user_id",this.loginuserId),this._LeadsService.AssignLeads(g).subscribe(h=>{"success"===h.status&&(p().fire({title:"Success",html:"Lead Re-assigned Successfully",timer:2e3,showConfirmButton:!1}),this.reloadData())},h=>{(430==h.status||430===h.status)&&this._Router.navigate(["error"])})}else alert("SomeThing Wrong")}})}displayLeadLabel(e){return e?e.client_user_name:""}onLeadSelectionChange(e){const o=this.selectedLeads.findIndex(a=>a.lead_id===e.lead_id);-1===o?this.selectedLeads.push(e):this.selectedLeads.splice(o,1),this.assigemultipleleadtoagent=this.selectedLeads.length>0}isSelected(e){return this.selectedLeads.some(o=>o.lead_id===e.lead_id)}AssigMultipleLeadstoAgent(e){const o=new FormData;o.append("agent_id",e.option.value.id),this.selectedLeads.forEach(s=>{o.append("lead_id[]",s.lead_id)}),this._LeadsService.AssignMultipleLead(o).subscribe(s=>{console.log(s)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.eN),t.Y36(T.C),t.Y36(b.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-assign-lead"]],viewQuery:function(e,o){if(1&e&&(t.Gf(M.NW,5),t.Gf(O.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first)}},decls:31,vars:7,consts:[[1,"cardWithShadow"],["class","row",4,"ngIf"],[1,"example-container","m-t-30"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container","responsive-table"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","lead_id"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lead_title"],["matColumnDef","customer_name"],["matColumnDef","customer_phone"],["matColumnDef","assign"],["mat-cell","","style","width: 50px;",4,"matCellDef"],["matColumnDef","lead_source"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"row"],[1,"offset-6","col-lg-3"],[1,"col-lg-3"],[1,"btnDiv",2,"margin-top","4px"],["appearance","outline",1,"custom-width","mt-5"],["type","text","placeholder","Select Agent","aria-label","Number","matInput","",2,"padding-top","10px","padding-bottom","10px",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto3","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"m-r-10","cursor-pointer","m-t-2"],["name","trash",1,"icon-18",2,"color","red"],[3,"value"],[1,"example-loading-shade"],[4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],[1,"example-rate-limit-reached"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-16"],["mat-cell",""],[3,"change"],["checkbox",""],["mat-cell","",2,"width","50px"],["type","text","placeholder","Select Agent","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"ngIf"],[1,"bg-light-accent","text-accent","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-primary","text-primary","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-error","text-error","rounded","f-w-600","p-6","p-y-4","f-s-12"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content"),t.YNc(2,Tt,13,6,"div",1),t.TgZ(3,"div",2),t.YNc(4,yt,3,2,"div",3),t.TgZ(5,"div",4)(6,"table",5),t.ynx(7,6),t.YNc(8,Dt,2,0,"th",7),t.YNc(9,Ut,3,0,"td",8),t.BQk(),t.ynx(10,9),t.YNc(11,Rt,2,0,"th",7),t.YNc(12,It,2,1,"td",8),t.BQk(),t.ynx(13,10),t.YNc(14,St,2,0,"th",7),t.YNc(15,Yt,2,1,"td",8),t.BQk(),t.ynx(16,11),t.YNc(17,qt,2,0,"th",7),t.YNc(18,Qt,2,1,"td",8),t.BQk(),t.ynx(19,12),t.YNc(20,Jt,2,0,"th",7),t.YNc(21,kt,7,6,"td",13),t.BQk(),t.ynx(22,14),t.YNc(23,Ft,2,0,"th",7),t.YNc(24,Ht,4,3,"td",8),t.BQk(),t.ynx(25,15),t.YNc(26,Gt,2,0,"th",7),t.YNc(27,Wt,3,4,"td",8),t.BQk(),t.YNc(28,zt,1,0,"tr",16),t.YNc(29,Kt,1,0,"tr",17),t.qZA()(),t._UZ(30,"mat-paginator",18),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",o.assigemultipleleadtoagent),t.xp6(2),t.Q6J("ngIf",o.isLoadingResults||o.isRateLimitReached),t.xp6(2),t.Q6J("dataSource",o.leadsData),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.resultsLength)("pageSize",10))},dependencies:[u.sg,u.O5,N.XC,J.ey,N.ZL,At.oG,_.KE,L.Nt,m.a8,m.dn,I.Ou,M.NW,O.YE,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,c.Fj,c.JJ,c.oH,x.b,u.Ov,u.uU],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#980000;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.custom-width[_ngcontent-%COMP%]{width:180px}[_nghost-%COMP%]   .mdc-notched-outline[_ngcontent-%COMP%]{height:80%!important}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding-top:2px!important;padding-bottom:2px!important}[_nghost-%COMP%]     .mat-mdc-form-field-infix{min-height:10px!important}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.input-container[_ngcontent-%COMP%]{flex-grow:1;margin-right:10px}.button-container[_ngcontent-%COMP%]{flex-shrink:0}"]}),n})();class Vt{constructor(i){this._httpClient=i}getLeads(i,e,o){return this._httpClient.get(`${R.N.baseUrl}/leads/new-unassigned-lead?sort=${i}&order=${e}&page=${o+1}`).pipe((0,f.U)(l=>({...l,data:l.data.map((h,w)=>({...h,counter:w+1+10*o}))})))}}var v=r(8280);function te(n,i){1&n&&t._UZ(0,"mat-spinner")}function ee(n,i){1&n&&(t.TgZ(0,"div",34),t._uU(1," There is no leads... "),t.qZA())}function ne(n,i){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,te,1,0,"mat-spinner",32),t.YNc(2,ee,2,0,"div",33),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isLoadingResults),t.xp6(1),t.Q6J("ngIf",e.isRateLimitReached)}}function oe(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1," # "),t.qZA())}function ie(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.counter," ")}}function ae(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Lead Subject "),t.qZA())}function se(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.lead_title||"Invalid Title"," ")}}function re(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Name "),t.qZA())}function le(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.customer_name||"Invalid Name"," ")}}function ce(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Email"),t.qZA())}function de(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.customer_email||"Invalid Email"," ")}}function ge(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Phone "),t.qZA())}function pe(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.customer_phone||"Invalid Phone Number"," ")}}function me(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Date"),t.qZA())}function ue(n,i){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.created_at||"Invalid Date"," ")}}function _e(n,i){1&n&&(t.TgZ(0,"th",35),t._uU(1," Actions "),t.qZA())}function he(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",36)(1,"a",37),t.NdJ("click",function(a){const g=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.Delete(a,g.lead_id))}),t._UZ(2,"i-tabler",38),t.qZA()()}}function fe(n,i){1&n&&t._UZ(0,"tr",39)}function Ce(n,i){1&n&&t._UZ(0,"tr",40)}let xe=(()=>{class n{constructor(e,o,a,s){this._httpClient=e,this._LeadsService=o,this._http=a,this._router=s,this.displayedColumns=["lead_id","lead_title","customer_name","customer_email","customer_phone","date","actions"],this.exampleDatabase=null,this.leadsData=[],this.counter=1,this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1}ngAfterViewInit(){this.exampleDatabase=new Me(this._httpClient,this._router),this.sort&&this.paginator&&(this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,D.T)(this.sort.sortChange,this.paginator.page).pipe((0,Z.O)({}),(0,U.w)(()=>(this.isLoadingResults=!0,this.exampleDatabase.getLeads(this.role,this.loginuserId,this.sort.active,this.sort.direction,this.paginator.pageIndex,this.startDate,this.endDate))),(0,f.U)(e=>(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=e.total_count,e.data)),(0,C.K)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,(0,P.of)([])))).subscribe(e=>this.leadsData=e))}ngOnInit(){this.userData=localStorage.getItem("userData"),this.user=JSON.parse(this.userData),this.loginuserId=this.user.client_user_id,this.role=this.user.role_id,this.agents()}Delete(e,o,a,s){p().fire({title:"Are you sure want to remove?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(g=>{g.isConfirmed&&this._LeadsService.DeleteLead(o).subscribe(l=>{"delete"===l.status&&(p().fire({title:"Success",html:"Lead Delete Successfully",timer:2e3,showConfirmButton:!1}),this.reloadData(a,s))},l=>{(403==l.status||403===l.status)&&this._router.navigate(["error"])})})}reloadData(e,o){this.sort&&this.paginator&&(this.isLoadingResults=!0,this.exampleDatabase.getLeads(this.role,this.loginuserId,this.sort.active,this.sort.direction,this.paginator.pageIndex,e,o).pipe((0,C.K)(()=>(this.isLoadingResults=!1,this.isRateLimitReached=!0,(0,P.of)([])))).subscribe(a=>{"data"in a&&(this.isLoadingResults=!1,this.isRateLimitReached=!1,this.resultsLength=a.total_count,this.leadsData=a.data,console.log("ddddd"),console.log(this.leadsData))}))}exportToCSV(e,o){if(this.leadsData&&this.leadsData.length>0){const a=new FormData;""!==e&&a.append("startDate",e),""!==o&&a.append("endDate",o),""!==this.loginuserId&&a.append("login_user_id",this.loginuserId),""!==this.role&&a.append("user_role",this.role),this._LeadsService.FilterCsv(a).subscribe(s=>{window.open(s.data)},s=>{(403==s.status||403===s.status)&&this._router.navigate(["error"])})}}agents(){this._LeadsService.getAgentInfo().subscribe(e=>{this.allAgents=e},e=>{(403==e.status||403===e.status)&&this._router.navigate(["error"])})}displayLeadLabel(e){return e?e.client_user_name:""}filter(e,o){this.reloadData(e,o)}reload(){window.location.reload()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.eN),t.Y36(T.C),t.Y36(A.eN),t.Y36(b.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-my-lead"]],viewQuery:function(e,o){if(1&e&&(t.Gf(M.NW,5),t.Gf(O.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first)}},decls:54,vars:8,consts:[[1,"cardWithShadow"],[1,"row"],[1,"offset-6","col-lg-3"],["appearance","outline",1,"w-100"],[3,"rangePicker"],["matStartDate","","placeholder","Start date"],["startDateInput",""],["matEndDate","","placeholder","End date"],["endDateInput",""],["matIconSuffix","",3,"for"],["custompicker",""],[1,"col-lg-3"],[1,"btnDiv",2,"margin-top","4px"],["mat-flat-button","","color","primary",2,"border-radius","0px",3,"click"],["mat-flat-button","","color","warn",2,"border-radius","0px",3,"click"],[1,"example-container","m-t-30"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container","responsive-table"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","lead_id"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lead_title"],["matColumnDef","customer_name"],["matColumnDef","customer_email"],["matColumnDef","customer_phone"],["matColumnDef","date"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["class","example-rate-limit-reached",4,"ngIf"],[1,"example-rate-limit-reached"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-16"],["mat-cell",""],[1,"m-r-10","cursor-pointer",3,"click"],["name","trash",1,"icon-18"],["mat-header-row",""],["mat-row",""]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"mat-card",0),t._UZ(1,"mat-card-header"),t.TgZ(2,"mat-card-content")(3,"div",1)(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Enter a date range"),t.qZA(),t.TgZ(8,"mat-date-range-input",4),t._UZ(9,"input",5,6)(11,"input",7,8),t.qZA(),t._UZ(13,"mat-datepicker-toggle",9)(14,"mat-date-range-picker",null,10),t.qZA()(),t.TgZ(16,"div",11)(17,"div",12)(18,"button",13),t.NdJ("click",function(){t.CHM(a);const g=t.MAs(10),l=t.MAs(12);return t.KtG(o.filter(g.value,l.value))}),t._uU(19,"Filter"),t.qZA(),t._uU(20," \xa0 "),t.TgZ(21,"button",14),t.NdJ("click",function(){return o.reload()}),t._uU(22,"Reset"),t.qZA(),t._uU(23," \xa0 "),t.TgZ(24,"button",14),t.NdJ("click",function(){t.CHM(a);const g=t.MAs(10),l=t.MAs(12);return t.KtG(o.exportToCSV(g.value,l.value))}),t._uU(25,"Export CSV"),t.qZA()()()(),t.TgZ(26,"div",15),t.YNc(27,ne,3,2,"div",16),t.TgZ(28,"div",17)(29,"table",18),t.ynx(30,19),t.YNc(31,oe,2,0,"th",20),t.YNc(32,ie,2,1,"td",21),t.BQk(),t.ynx(33,22),t.YNc(34,ae,2,0,"th",20),t.YNc(35,se,2,1,"td",21),t.BQk(),t.ynx(36,23),t.YNc(37,re,2,0,"th",20),t.YNc(38,le,2,1,"td",21),t.BQk(),t.ynx(39,24),t.YNc(40,ce,2,0,"th",20),t.YNc(41,de,2,1,"td",21),t.BQk(),t.ynx(42,25),t.YNc(43,ge,2,0,"th",20),t.YNc(44,pe,2,1,"td",21),t.BQk(),t.ynx(45,26),t.YNc(46,me,2,0,"th",20),t.YNc(47,ue,2,1,"td",21),t.BQk(),t.ynx(48,27),t.YNc(49,_e,2,0,"th",20),t.YNc(50,he,3,0,"td",21),t.BQk(),t.YNc(51,fe,1,0,"tr",28),t.YNc(52,Ce,1,0,"tr",29),t.qZA()(),t._UZ(53,"mat-paginator",30),t.qZA()()()}if(2&e){const a=t.MAs(15);t.xp6(8),t.Q6J("rangePicker",a),t.xp6(5),t.Q6J("for",a),t.xp6(14),t.Q6J("ngIf",o.isLoadingResults||o.isRateLimitReached),t.xp6(2),t.Q6J("dataSource",o.leadsData),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.resultsLength)("pageSize",10)}},dependencies:[u.O5,v.nW,v.wx,v.zY,v.By,v._g,_.KE,_.hX,_.R9,m.a8,m.dn,m.dk,q.lW,I.Ou,M.NW,O.YE,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,x.b],styles:[".example-container[_ngcontent-%COMP%]{position:relative;min-height:200px}.example-table-container[_ngcontent-%COMP%]{position:relative;max-height:400px;overflow:auto}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;inset:0 0 56px;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{color:#980000;max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}.custom-width[_ngcontent-%COMP%]{width:180px}[_nghost-%COMP%]   .mdc-notched-outline[_ngcontent-%COMP%]{height:80%!important}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding-top:2px!important;padding-bottom:2px!important}[_nghost-%COMP%]     .mat-mdc-form-field-infix{min-height:10px!important}[_nghost-%COMP%]     .mat-date-range-input-container{padding-top:10px}"]}),n})();class Me{constructor(i,e){this._httpClient=i,this._router=e}getLeads(i,e,o,a,s,g,l){let w=`${R.N.baseUrl}/leads/get-my-lead`,S=(new A.LE).set("sort",o).set("order",a).set("page",(s+1).toString());return g&&l&&(S=S.set("startDate",g).set("endDate",l)),this._httpClient.get(`${w}`,{params:S}).pipe((0,f.U)(y=>({...y,data:y.data.map((Le,Ne)=>({...Le,counter:Ne+1+10*s}))})),(0,C.K)(y=>(this._router.navigate(["/error"]),(0,Q._)(y))))}}const Oe=[{path:"",children:[{path:"create-lead",component:ot,data:{title:"Lead Managements",urls:[{title:"Dashboard",url:"/leads/create-lead"},{title:"Lead Managements"}]}},{path:"assign-lead",component:Xt,data:{title:"These Are the New Leads",urls:[{title:"Dashboard",url:"/leads/assign-lead"},{title:"Assign Leads"}]}},{path:"re-assign",component:bt,data:{title:"Re-Assign Leads",urls:[{title:"Dashboard",url:"/leads/re-assign"},{title:"Re-Assign Leads"}]}},{path:"my-lead",component:xe,data:{title:"My Leads",urls:[{title:"Dashboard",url:"/leads/my-lead"},{title:"My Leads"}]}}]}];var Pe=r(9549),ve=r(832),be=r(5664),Ze=r(3669),Ae=r(4333);let we=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[u.uU],imports:[u.ez,b.Bz.forChild(Oe),Pe.q,c.u5,ve.FormModule,c.UX,x.e,x.e.pick(be),L.c,Ze.A0,Ae.JX,v.FA]}),n})()}}]);