"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[231],{5231:(Be,S,m)=>{m.r(S),m.d(S,{UsersModule:()=>Me});var C=m(4755),h=m(6873),y=m(9549),R=m(832),a=m(9401),Z=m(792),D=m(5664),v=m(8097),J=m(3669),Q=m(4333),Y=m(8280),l=m(3627),g=m(3276),F=m(2132),k=m(5226),u=m.n(k),P=m(8675),O=m(4004),e=m(2223),T=m(3071),U=m(620),b=m(8995),w=m(1217),p=m(9114),N=m(4867),L=m(787),d=m(6012),x=m(1728),I=m(430);function M(r,i){1&r&&(e.TgZ(0,"div",37),e._uU(1,"Name is required."),e.qZA())}function W(r,i){if(1&r&&(e.TgZ(0,"mat-hint",35),e.YNc(1,M,2,0,"div",36),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_name.errors&&t.f.user_name.errors.required)}}function B(r,i){1&r&&(e.TgZ(0,"div",37),e._uU(1,"Phone is required."),e.qZA())}function G(r,i){if(1&r&&(e.TgZ(0,"mat-hint",35),e.YNc(1,B,2,0,"div",36),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_phone.errors&&t.f.user_phone.errors.required)}}function j(r,i){1&r&&(e.TgZ(0,"div",37),e._uU(1,"Phone is required."),e.qZA())}function H(r,i){if(1&r&&(e.TgZ(0,"mat-hint",35),e.YNc(1,j,2,0,"div",36),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_designation.errors&&t.f.user_designation.errors.required)}}function E(r,i){if(1&r&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function z(r,i){1&r&&(e.TgZ(0,"div",37),e._uU(1,"Phone is required."),e.qZA())}function $(r,i){if(1&r&&(e.TgZ(0,"mat-hint",35),e.YNc(1,z,2,0,"div",36),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_email.errors&&t.f.user_email.errors.required)}}function X(r,i){1&r&&(e.TgZ(0,"div",37),e._uU(1,"Password is required."),e.qZA())}function K(r,i){if(1&r&&(e.TgZ(0,"mat-hint",35),e.YNc(1,X,2,0,"div",36),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_password.errors&&t.f.user_password.errors.required)}}function V(r,i){if(1&r&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function ee(r,i){1&r&&(e.TgZ(0,"div",37),e._uU(1,"Role is required."),e.qZA())}function te(r,i){if(1&r&&(e.TgZ(0,"mat-hint",35),e.YNc(1,ee,2,0,"div",36),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.sort_order.errors&&t.f.sort_order.errors.required)}}function re(r,i){if(1&r&&(e.TgZ(0,"mat-radio-button",38),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function oe(r,i){1&r&&(e.TgZ(0,"div",40),e._uU(1,"UserRole is required"),e.qZA())}function ie(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,oe,2,0,"div",39),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.checkedItems.errors&&(null==t.f.checkedItems.errors?null:t.f.checkedItems.errors.required))}}let se=(()=>{class r{constructor(t,o,s,n,c,_,We){this.fb=t,this.router=o,this._UserService=s,this.renderer=n,this.el=c,this.activeroute=_,this._LeadsService=We,this.default="Select Option",this.options=[],this.userFile=null,this.allAgents=[],this.firstControl=new a.NI(""),this.checkedItems=[],this.selectedOption=null,this._UserService.GetUserRoles().subscribe(A=>{this.DefineRoles=A},A=>{u().fire("Error in the fetching roles","error"),(403==A.status||403===A.status)&&this.router.navigate(["error"])})}ngOnInit(){this.userObj={},this.userFrom=this.fb.group({user_name:new a.NI("",[a.kI.required]),user_phone:new a.NI("",[a.kI.required]),user_designation:new a.NI("",[a.kI.required]),user_email:new a.NI("",[a.kI.required]),user_password:new a.NI("",[a.kI.required]),user_status:new a.NI("",[a.kI.required]),sort_order:new a.NI("",[a.kI.required]),checkedItems:new a.NI("",[a.kI.required])}),this.userFrom.valueChanges.subscribe(t=>{this.isNextDisabled=!this.userFrom.valid}),this.options=F.vE.optionvalue,this.agents(),this.filteredOptions=this.firstControl.valueChanges.pipe((0,P.O)(""),(0,O.U)(t=>this._filter(t)))}_filter(t){return this.allAgents.filter(o=>o.client_user_name.includes(t)).map(o=>({name:o.client_user_name,id:o.client_user_id}))}displaySelectedAgent(t){return t?t.name:""}agents(){this._LeadsService.getAgentInfo().subscribe(t=>{this.allAgents=t},t=>{(430==t.status||430===t.status)&&this.router.navigate(["error"])})}userImage(t){this.userFile=t.target.files[0],this.userFile2=t.target.files[0]}isChecked(t){return this.checkedItems.includes(t.id)}toggleCheckbox(t){this.isChecked(t)?this.checkedItems=this.checkedItems.filter(o=>o!==t.id):this.checkedItems.push(t.id)}toggleRadio(){this.roleId=this.userFrom.value.checkedItems}get f(){return this.userFrom.controls}hideFirstFiveCharacters(t){return t.substr(5)}onOptionSelected(t){const s=t.option.value.id;""!=s&&(this.team_id=s)}create(t){if(!this.userFrom.valid)return void u().fire("Something Went Wrong. Please Check All the Fields","error");const o=new FormData,n=this.userFrom.value;this.team_id&&o.append("team_id",this.team_id),this.roleId&&o.append("role_id",this.roleId),o.append("client_user_name",n.user_name),o.append("client_user_phone",n.user_phone),o.append("client_user_designation",n.user_designation),o.append("client_user_email",n.user_email),o.append("password",n.user_password),o.append("client_sort_order",n.sort_order),o.append("client_user_status",n.user_status),this.userFile&&o.append("client_user_image",this.userFile),this._UserService.create(o).subscribe(c=>{"success"==c.status?(u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Create User Successfully",icon:"success"}),this.userFrom.reset()):u().fire("Some Thing was wrong...","","error")},c=>{(403==c.status||403===c.status)&&this.router.navigate(["error"])})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.qu),e.Y36(h.F0),e.Y36(T.K),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(h.gz),e.Y36(U.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["appcreate-user"]],decls:94,vars:17,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"col-sm-6","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px"],["appearance","outline",1,"w-100"],["matInput","","placeholder","UserName","formControlName","user_name",2,"border-radius","0px"],["matPrefix","",1,"op-5"],["name","user",1,"icon-20","d-flex"],["class","m-b-16 error-msg",4,"ngIf"],["matInput","","type","","number","","placeholder","UserPhone","formControlName","user_phone",2,"border-radius","0px"],["matInput","","placeholder","Designation....","formControlName","user_designation",2,"border-radius","0px"],["appearance","outline",1,"custom-width","mt-5"],["type","text","placeholder","Select Agent","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto3","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","email","placeholder","Email","formControlName","user_email",2,"border-radius","0px"],["matInput","","type","password","placeholder","Password","formControlName","user_password",2,"border-radius","0px"],["name","password",1,"icon-20","d-flex"],["appearance","outline"],[1,"d-block","custom_lable"],["placeholder","Type to Search","formControlName","user_status"],["matInput","","type","email","placeholder","Sort Order","formControlName","sort_order",2,"border-radius","0px"],[1,"col-sm-12"],[1,"mb-3"],[1,"form-label"],["type","file","placeholder","Sort Order","autocomplete","off",1,"form-control",3,"change"],[1,"row","d-flex","justify-content-end"],["type","submit","type","submit","mat-flat-button","","color","primary",3,"disabled"],["formControlName","checkedItems",3,"change"],[4,"ngIf"],[1,"m-b-16","error-msg"],["class","text-error",4,"ngIf"],[1,"text-error"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(n){return o.create(n)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title",4),e._uU(6,"Create User"),e.qZA()(),e.TgZ(7,"mat-card-content",5)(8,"div",1)(9,"div",6)(10,"mat-label",7),e._uU(11,"UserName"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.TgZ(14,"mat-icon",10),e._UZ(15,"i-tabler",11),e.qZA(),e.YNc(16,W,2,1,"mat-hint",12),e.qZA()(),e.TgZ(17,"div",6)(18,"mat-label",7),e._uU(19,"UserPhone"),e.qZA(),e.TgZ(20,"mat-form-field",8),e._UZ(21,"input",13),e.TgZ(22,"mat-icon",10),e._UZ(23,"i-tabler",11),e.qZA(),e.YNc(24,G,2,1,"mat-hint",12),e.qZA()(),e.TgZ(25,"div",6)(26,"mat-label",7),e._uU(27,"Designation"),e.qZA(),e.TgZ(28,"mat-form-field",8),e._UZ(29,"input",14),e.TgZ(30,"mat-icon",10),e._UZ(31,"i-tabler",11),e.qZA(),e.YNc(32,H,2,1,"mat-hint",12),e.qZA()(),e.TgZ(33,"div",6)(34,"mat-label",7),e._uU(35,"Users"),e.qZA(),e.TgZ(36,"mat-form-field",15),e._UZ(37,"input",16),e.TgZ(38,"mat-autocomplete",17,18),e.NdJ("optionSelected",function(n){return o.onOptionSelected(n)}),e.YNc(40,E,2,2,"mat-option",19),e.ALo(41,"async"),e.qZA()()(),e.TgZ(42,"div",6)(43,"mat-label",7),e._uU(44,"Email"),e.qZA(),e.TgZ(45,"mat-form-field",8),e._UZ(46,"input",20),e.TgZ(47,"mat-icon",10),e._UZ(48,"i-tabler",11),e.qZA(),e.YNc(49,$,2,1,"mat-hint",12),e.qZA()(),e.TgZ(50,"div",6)(51,"mat-label",7),e._uU(52,"Password"),e.qZA(),e.TgZ(53,"mat-form-field",8),e._UZ(54,"input",21),e.TgZ(55,"mat-icon",10),e._UZ(56,"i-tabler",22),e.qZA(),e.YNc(57,K,2,1,"mat-hint",12),e.qZA()(),e.TgZ(58,"div",6)(59,"mat-label",7),e._uU(60,"Status"),e.qZA(),e.TgZ(61,"mat-form-field",23)(62,"mat-label",24),e._uU(63,"Status"),e.qZA(),e.TgZ(64,"mat-select",25),e.YNc(65,V,2,2,"mat-option",19),e.qZA()()(),e.TgZ(66,"div",6)(67,"mat-label",7),e._uU(68,"Sort Order"),e.qZA(),e.TgZ(69,"mat-form-field",8),e._UZ(70,"input",26),e.TgZ(71,"mat-icon",10),e._UZ(72,"i-tabler",11),e.qZA(),e.YNc(73,te,2,1,"mat-hint",12),e.qZA()(),e.TgZ(74,"div",27)(75,"div",28)(76,"label",29),e._uU(77,"User's Photo"),e.qZA(),e.TgZ(78,"input",30),e.NdJ("change",function(n){return o.userImage(n)}),e.qZA()()()(),e._UZ(79,"br"),e.TgZ(80,"div",31)(81,"div",27)(82,"button",32),e._uU(83,"Send"),e.qZA()()()()()(),e.TgZ(84,"div",2)(85,"mat-card")(86,"mat-card-header")(87,"mat-card-title",4),e._uU(88,"User Role"),e.qZA()(),e.TgZ(89,"mat-card-content")(90,"div",28)(91,"mat-radio-group",33),e.NdJ("change",function(){return o.toggleRadio()}),e.YNc(92,re,2,2,"mat-radio-button",19),e.qZA(),e.YNc(93,ie,2,1,"div",34),e.qZA()()()()()()),2&t){const s=e.MAs(39);e.Q6J("formGroup",o.userFrom),e.xp6(16),e.Q6J("ngIf",o.f.user_name.touched&&o.f.user_name.invalid),e.xp6(8),e.Q6J("ngIf",o.f.user_phone.touched&&o.f.user_phone.invalid),e.xp6(8),e.Q6J("ngIf",o.f.user_designation.touched&&o.f.user_designation.invalid),e.xp6(5),e.Q6J("formControl",o.firstControl)("matAutocomplete",s),e.xp6(1),e.Q6J("displayWith",o.displaySelectedAgent),e.xp6(2),e.Q6J("ngForOf",e.lcZ(41,15,o.filteredOptions)),e.xp6(9),e.Q6J("ngIf",o.f.user_email.touched&&o.f.user_email.invalid),e.xp6(8),e.Q6J("ngIf",o.f.user_password.touched&&o.f.user_password.invalid),e.xp6(8),e.Q6J("ngForOf",o.options),e.xp6(8),e.Q6J("ngIf",o.f.sort_order.touched&&o.f.sort_order.invalid),e.xp6(9),e.Q6J("disabled",o.userFrom.invalid||o.isNextDisabled),e.xp6(10),e.Q6J("ngForOf",o.DefineRoles),e.xp6(1),e.Q6J("ngIf",o.f.checkedItems.touched&&o.f.checkedItems.invalid)}},dependencies:[C.sg,C.O5,b.XC,w.ey,b.ZL,p.KE,p.hX,p.bx,p.qo,v.Nt,N.VQ,N.U0,L.gD,d.a8,d.dn,d.dk,d.n5,x.lW,I.Hw,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg,a.u,Z.b,C.Ov],encapsulation:2}),r})();var f=m(2611);function ne(r,i){1&r&&(e.TgZ(0,"div",28),e._uU(1,"Name is required."),e.qZA())}function ae(r,i){if(1&r&&(e.TgZ(0,"mat-hint",26),e.YNc(1,ne,2,0,"div",27),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.name.errors&&t.f.name.errors.required)}}function le(r,i){1&r&&(e.TgZ(0,"mat-header-cell",29),e._uU(1," ID "),e.qZA())}function me(r,i){if(1&r&&(e.TgZ(0,"mat-cell",30),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.counter," ")}}function ce(r,i){1&r&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," Role "),e.qZA())}function ue(r,i){if(1&r&&(e.TgZ(0,"mat-cell")(1,"div",32)(2,"span",33),e._uU(3),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.name||"Invalid Role")}}function de(r,i){1&r&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," Actions "),e.qZA())}function pe(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"div",32)(2,"a",34),e.NdJ("click",function(s){const c=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.Delete(s,c.id))}),e._UZ(3,"i-tabler",35),e.qZA(),e.TgZ(4,"a",36),e._UZ(5,"i-tabler",37),e.qZA()()()}if(2&r){const t=i.$implicit;e.xp6(4),e.MGl("routerLink","/users/edit-role/",t.id,"")}}function fe(r,i){1&r&&e._UZ(0,"mat-header-row")}function _e(r,i){1&r&&e._UZ(0,"mat-row")}const he=function(){return[3,10,25,100]};let q=(()=>{class r{constructor(t,o,s,n){this.fb=t,this._UserService=o,this._ActivatedRoute=s,this._Router=n,this.displayedColumns=["id","name","actions"],this.paginator=Object.create(null),this.sort=Object.create(null),this.editroleid=Number(this._ActivatedRoute.snapshot.paramMap.get("id")),this.editroleid&&this._UserService.EditRoleService(this.editroleid).subscribe(_=>{this.RoleObj=_},_=>{u().fire("SomeThing Is Wrong","error")})}ngOnInit(){this.RoleObj={},this.roleFrom=this.fb.group({name:new a.NI("",[a.kI.required])}),this.roleFrom.valueChanges.subscribe(t=>{this.isNextDisabled=!this.roleFrom.valid}),this.fetchRoles()}fetchRoles(){this._UserService.GetUserRoles().subscribe(t=>{t.forEach((o,s)=>{o.counter=s+1}),this.dataSource=new l.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},t=>{u().fire("Something Went Wrong")})}ngAfterViewInit(){this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}CreateRole(t){if(!this.roleFrom.valid)return void u().fire("Something Went Wrong. Please Check All the Fields","error");const o=new FormData;let n;o.append("name",this.roleFrom.value.name),0==this.editroleid||0===this.editroleid?n=this._UserService.CreateRoleServices(o):(o.append("id",String(this.editroleid)),n=this._UserService.UpdateRoleService(o)),n.subscribe(c=>{"success"===c.status&&(u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Create Role Successfully",icon:"success"}),this.roleFrom.reset(),this.fetchRoles()),"update"===c.status&&(u().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Update Role Successfully",icon:"success"}),this.roleFrom.reset(),this.fetchRoles(),this._Router.navigate(["users/create-role"]))},c=>{u().fire("Something Is Wrong","error")})}Delete(t,o){u().fire({title:"Are you sure want to remove?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(s=>{s.isConfirmed&&this._UserService.DeleteRole(o).subscribe(n=>{"delete"===n.status&&(u().fire({title:"Success",html:"Lead Delete Successfully",timer:2e3,showConfirmButton:!1}),this.fetchRoles())},n=>{console.log(n)})})}get f(){return this.roleFrom.controls}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.qu),e.Y36(T.K),e.Y36(h.gz),e.Y36(h.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-createrole"]],viewQuery:function(t,o){if(1&t&&(e.Gf(g.NW,7),e.Gf(f.YE,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first),e.iGM(s=e.CRH())&&(o.sort=s.first)}},decls:34,vars:9,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"col-sm-12","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Role","formControlName","name",2,"border-radius","0px",3,"ngModel","ngModelChange"],["matPrefix","",1,"op-5"],["name","user",1,"icon-20","d-flex"],["class","m-b-16 error-msg",4,"ngIf"],["type","submit","type","submit","mat-flat-button","","color","primary",3,"disabled"],[1,"table-responsive","m-t-30"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16 p-l-0",4,"matHeaderCellDef"],["class","p-l-0",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"m-b-16","error-msg"],["class","text-error",4,"ngIf"],[1,"text-error"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16","p-l-0"],[1,"p-l-0"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16"],[1,"d-flex","align-items-center","gap-12"],[1,"f-s-16"],[1,"m-r-10","cursor-pointer",3,"click"],["name","trash",1,"icon-18",2,"color","red"],[1,"m-r-10","cursor-pointer",3,"routerLink"],["name","edit",1,"icon-18",2,"color","green"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(n){return o.CreateRole(n)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title",4),e._uU(6,"Create User"),e.qZA()(),e.TgZ(7,"mat-card-content",5)(8,"div",1)(9,"div",6)(10,"mat-label",7),e._uU(11,"Add Role"),e.qZA(),e.TgZ(12,"mat-form-field",8)(13,"input",9),e.NdJ("ngModelChange",function(n){return o.RoleObj.name=n}),e.qZA(),e.TgZ(14,"mat-icon",10),e._UZ(15,"i-tabler",11),e.qZA(),e.YNc(16,ae,2,1,"mat-hint",12),e.qZA(),e.TgZ(17,"button",13),e._uU(18,"Add"),e.qZA()()()()()(),e.TgZ(19,"div",2)(20,"div",14)(21,"mat-table",15),e.ynx(22,16),e.YNc(23,le,2,0,"mat-header-cell",17),e.YNc(24,me,2,1,"mat-cell",18),e.BQk(),e.ynx(25,19),e.YNc(26,ce,2,0,"mat-header-cell",20),e.YNc(27,ue,4,1,"mat-cell",21),e.BQk(),e.ynx(28,22),e.YNc(29,de,2,0,"mat-header-cell",20),e.YNc(30,pe,6,1,"mat-cell",21),e.BQk(),e.YNc(31,fe,1,0,"mat-header-row",23),e.YNc(32,_e,1,0,"mat-row",24),e.qZA(),e._UZ(33,"mat-paginator",25),e.qZA()()()()),2&t&&(e.Q6J("formGroup",o.roleFrom),e.xp6(13),e.Q6J("ngModel",o.RoleObj.name),e.xp6(3),e.Q6J("ngIf",o.f.name.touched&&o.f.name.invalid),e.xp6(1),e.Q6J("disabled",o.roleFrom.invalid||o.isNextDisabled),e.xp6(4),e.Q6J("dataSource",o.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,he)))},dependencies:[C.O5,h.rH,p.KE,p.hX,p.bx,p.qo,v.Nt,d.a8,d.dn,d.dk,d.n5,x.lW,I.Hw,g.NW,f.YE,f.nU,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,Z.b]}),r})();var ge=m(1292);function Ce(r,i){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name,"")}}function Ze(r,i){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.client_user_name,"")}}function ve(r,i){1&r&&(e.TgZ(0,"mat-header-cell",29),e._uU(1," ID "),e.qZA())}function be(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"mat-cell",30)(1,"label",31)(2,"mat-checkbox",32),e.NdJ("change",function(){const n=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleCheckbox(n))}),e.qZA(),e._UZ(3,"span",33),e.qZA(),e._uU(4),e.qZA()}if(2&r){const t=i.$implicit,o=e.oxw();e.xp6(2),e.Q6J("checked",o.isChecked(t))("value",t.id),e.xp6(2),e.hij(" ",t.counter," ")}}function Ae(r,i){1&r&&(e.TgZ(0,"mat-header-cell",34),e._uU(1," Role "),e.qZA())}function Te(r,i){if(1&r&&(e.TgZ(0,"mat-cell")(1,"div",35)(2,"span",36),e._uU(3),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.name||"Invalid Role")}}function Ue(r,i){1&r&&e._UZ(0,"mat-header-row")}function xe(r,i){1&r&&e._UZ(0,"mat-row")}const Se=function(){return[20,25,50,100]};function Ne(r,i){1&r&&(e.TgZ(0,"mat-header-cell",16),e._uU(1," ID "),e.qZA())}function Ie(r,i){if(1&r&&(e.TgZ(0,"mat-cell",17),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.counter," ")}}function qe(r,i){1&r&&(e.TgZ(0,"mat-header-cell",18),e._uU(1," Name "),e.qZA())}function ye(r,i){if(1&r&&(e.TgZ(0,"mat-cell")(1,"div",19)(2,"span",20),e._uU(3),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.client_user_name||"Invalid Role")}}function Re(r,i){1&r&&(e.TgZ(0,"mat-header-cell",18),e._uU(1," Email "),e.qZA())}function De(r,i){if(1&r&&(e.TgZ(0,"mat-cell")(1,"div",19)(2,"span",20),e._uU(3),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.client_user_email||"Invalid Role")}}function Je(r,i){1&r&&(e.TgZ(0,"mat-header-cell",18),e._uU(1," Des "),e.qZA())}function Qe(r,i){if(1&r&&(e.TgZ(0,"mat-cell")(1,"div",19)(2,"span",20),e._uU(3),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.client_user_designation||"Invalid Role")}}function Ye(r,i){1&r&&(e.TgZ(0,"mat-header-cell",18),e._uU(1," Actions "),e.qZA())}function Fe(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"div",19)(2,"a",21),e.NdJ("click",function(s){const c=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.Delete(s,c.client_user_id))}),e._UZ(3,"i-tabler",22),e.qZA()()()}}function ke(r,i){1&r&&e._UZ(0,"mat-header-row")}function Pe(r,i){1&r&&e._UZ(0,"mat-row")}const Oe=function(){return[3,10,25,100]},Le=[{path:"",children:[{path:"create-user",component:se,data:{title:"User Managements",urls:[{title:"Dashboard",url:"users/create-user"},{title:"User Managements"}]}},{path:"create-role",component:q,data:{title:"Create Role",urls:[{title:"Dashboard",url:"users/create-role"},{title:"Create Role"}]}},{path:"edit-role/:id",component:q,data:{title:"Create Role",urls:[{title:"Dashboard",url:"users/create-role"},{title:"Create Role"}]}},{path:"assign-permission",component:(()=>{class r{constructor(t,o,s){this._fb=t,this._UserService=o,this._LeadsService=s,this.checkedItems=[],this.displayedColumns=["id","name"],this.paginator=Object.create(null),this.sort=Object.create(null)}ngOnInit(){this.AssignPermissionFrom=this._fb.group({roles:new a.NI(""),clients:new a.NI(""),checkedItems:new a.NI("",[a.kI.required])}),this.getrole(),this.agents(),this.getPermission()}displayLeadLabel(t){return t?t.name:""}displayLeadLabel2(t){return t?t.client_user_name:""}getrole(){this._UserService.GetUserRoles().subscribe(t=>{this.AllRole=t})}agents(){this._LeadsService.getAgentInfo().subscribe(t=>{this.allAgents=t},t=>{console.log(t)})}isChecked(t){return this.checkedItems.includes(t.id)}selectCheckboxesBasedOnResponseIds(t){this.checkedItems=t,console.log(this.checkedItems)}toggleCheckbox(t){this.isChecked(t)?this.checkedItems=this.checkedItems.filter(o=>o!==t.id):this.checkedItems.push(t.id)}getPermission(){this._UserService.PermissionService().subscribe(t=>{t.forEach((o,s)=>{o.counter=s+1}),this.dataSource=new l.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},t=>{u().fire("Something Went Wrong")})}userRole(t){const o=this.AssignPermissionFrom.get("clients");null!==o&&o.reset(),this._UserService.GetRolePermissionService(t.id).subscribe(n=>{this.selectCheckboxesBasedOnResponseIds(n)})}users(t){const o=this.AssignPermissionFrom.get("roles");null!==o&&o.reset(),this._UserService.GetUserPermissionService(t).subscribe(n=>{this.selectCheckboxesBasedOnResponseIds(n)},n=>{console.log(n)})}Delete(t,o){}AssignPermission(t){if(!this.AssignPermissionFrom.valid)return void u().fire("Something Went Wrong. Please Check All the Fields","error");const o=new FormData,s=this.AssignPermissionFrom.value;(null!==s.clients||null!=s.clients)&&o.append("client_user_id",s.clients.client_user_id),(null!==s.roles||null!=s.roles)&&o.append("role_id",s.roles.id),o.append("permission",this.checkedItems.join(",")),this._UserService.AssignPermissionService(o).subscribe(n=>{"success"===n.status&&u().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Permission Assign Successfully",icon:"success"})},n=>{console.log(n)})}get f(){return this.AssignPermissionFrom.controls}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.qu),e.Y36(T.K),e.Y36(U.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-assign-permission"]],viewQuery:function(t,o){if(1&t&&(e.Gf(g.NW,7),e.Gf(f.YE,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first),e.iGM(s=e.CRH())&&(o.sort=s.first)}},decls:41,vars:13,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"row"],[1,"col-lg-6"],[1,"col-sm-12","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px","margin-left","10px"],["appearance","outline",1,"w-100"],["type","text","placeholder","Select Role","aria-label","Number","matInput","","formControlName","roles",3,"matAutocomplete"],[3,"displayWith","optionSelected"],["auto3","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Select Agent","aria-label","Number","matInput","","formControlName","clients",3,"matAutocomplete"],["auto4","matAutocomplete"],[1,"col-12"],[1,"table-responsive","m-t-30"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16 p-l-0",4,"matHeaderCellDef"],["class","p-l-0",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["type","submit","type","submit","mat-flat-button","","color","primary",2,"border-radius","0px",3,"disabled"],[3,"value"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16","p-l-0"],[1,"p-l-0"],[1,"checkbox_container"],["formControlName","checkedItems",3,"checked","value","change"],[1,"checkmark"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16"],[1,"d-flex","align-items-center","gap-12"],[1,"f-s-16"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(n){return o.AssignPermission(n)}),e.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4,"Assign Permission"),e.qZA()(),e.TgZ(5,"mat-card-content",3)(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6)(10,"mat-label",7),e._uU(11,"User-Role"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.TgZ(14,"mat-autocomplete",10,11),e.NdJ("optionSelected",function(n){return o.userRole(n.option.value)}),e.YNc(16,Ce,2,2,"mat-option",12),e.qZA()()()()(),e.TgZ(17,"div",5)(18,"div",4)(19,"div",6)(20,"mat-label",7),e._uU(21,"Users"),e.qZA(),e.TgZ(22,"mat-form-field",8),e._UZ(23,"input",13),e.TgZ(24,"mat-autocomplete",10,14),e.NdJ("optionSelected",function(n){return o.users(n.option.value.client_user_id)}),e.YNc(26,Ze,2,2,"mat-option",12),e.qZA()()()()(),e.TgZ(27,"div",15)(28,"div",16)(29,"mat-table",17),e.ynx(30,18),e.YNc(31,ve,2,0,"mat-header-cell",19),e.YNc(32,be,5,3,"mat-cell",20),e.BQk(),e.ynx(33,21),e.YNc(34,Ae,2,0,"mat-header-cell",22),e.YNc(35,Te,4,1,"mat-cell",23),e.BQk(),e.YNc(36,Ue,1,0,"mat-header-row",24),e.YNc(37,xe,1,0,"mat-row",25),e.qZA(),e._UZ(38,"mat-paginator",26),e.TgZ(39,"button",27),e._uU(40,"Assign"),e.qZA()()()()()()()),2&t){const s=e.MAs(15),n=e.MAs(25);e.Q6J("formGroup",o.AssignPermissionFrom),e.xp6(13),e.Q6J("matAutocomplete",s),e.xp6(1),e.Q6J("displayWith",o.displayLeadLabel),e.xp6(2),e.Q6J("ngForOf",o.AllRole),e.xp6(7),e.Q6J("matAutocomplete",n),e.xp6(1),e.Q6J("displayWith",o.displayLeadLabel2),e.xp6(2),e.Q6J("ngForOf",o.allAgents),e.xp6(3),e.Q6J("dataSource",o.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(12,Se)),e.xp6(1),e.Q6J("disabled",o.AssignPermissionFrom.invalid||o.isNextDisabled)}},dependencies:[C.sg,b.XC,w.ey,b.ZL,ge.oG,p.KE,p.hX,v.Nt,d.a8,d.dn,d.dk,d.n5,x.lW,g.NW,f.YE,f.nU,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),r})(),data:{title:"Assign Permission",urls:[{title:"Dashboard",url:"users/assign-permission"},{title:"Assign Permission"}]}},{path:"user-list",component:(()=>{class r{constructor(t,o){this._LeadsService=t,this._Router=o,this.allAgents=[],this.displayedColumns=["id","name","email","designation"],this.paginator=Object.create(null),this.sort=Object.create(null)}ngOnInit(){this.agents()}agents(){this._LeadsService.getAgentInfo().subscribe(t=>{t.forEach((o,s)=>{o.counter=s+1}),this.dataSource=new l.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},t=>{u().fire("Something Went Wrong")})}Delete(t,o){console.log(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(U.C),e.Y36(h.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(t,o){if(1&t&&(e.Gf(g.NW,7),e.Gf(f.YE,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first),e.iGM(s=e.CRH())&&(o.sort=s.first)}},decls:23,vars:5,consts:[[1,"row"],[1,"col-lg-12"],[1,"table-responsive","m-t-30"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16 p-l-0",4,"matHeaderCellDef"],["class","p-l-0",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","email"],["matColumnDef","designation"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16","p-l-0"],[1,"p-l-0"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16"],[1,"d-flex","align-items-center","gap-12"],[1,"f-s-16"],[1,"m-r-10","cursor-pointer",3,"click"],["name","trash",1,"icon-18",2,"color","red"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1,"> "),e.TgZ(2,"div",1)(3,"div",2)(4,"mat-table",3),e.ynx(5,4),e.YNc(6,Ne,2,0,"mat-header-cell",5),e.YNc(7,Ie,2,1,"mat-cell",6),e.BQk(),e.ynx(8,7),e.YNc(9,qe,2,0,"mat-header-cell",8),e.YNc(10,ye,4,1,"mat-cell",9),e.BQk(),e.ynx(11,10),e.YNc(12,Re,2,0,"mat-header-cell",8),e.YNc(13,De,4,1,"mat-cell",9),e.BQk(),e.ynx(14,11),e.YNc(15,Je,2,0,"mat-header-cell",8),e.YNc(16,Qe,4,1,"mat-cell",9),e.BQk(),e.ynx(17,12),e.YNc(18,Ye,2,0,"mat-header-cell",8),e.YNc(19,Fe,4,0,"mat-cell",9),e.BQk(),e.YNc(20,ke,1,0,"mat-header-row",13),e.YNc(21,Pe,1,0,"mat-row",14),e.qZA(),e._UZ(22,"mat-paginator",15),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("dataSource",o.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Oe)))},dependencies:[g.NW,f.YE,f.nU,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,Z.b]}),r})(),data:{title:"User List",urls:[{title:"Dashboard",url:"users/user-list"},{title:"User List"}]}}]}];let Me=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[C.ez,h.Bz.forChild(Le),y.q,a.u5,R.FormModule,a.UX,Z.e,Z.e.pick(D),v.c,J.A0,Q.JX,Y.FA,l.p0,g.TU]}),r})()}}]);