"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[38],{3038:(Ft,D,o)=>{o.r(D),o.d(D,{DashboardsModule:()=>Bt});var c=o(4755),x=o(6873),m=o(9401),k=o(5226),_=o.n(k),Y=o(8675),S=o(4004),y=o(2132),f=o(1643),Q=o(4213),h=o(6286),t=o(2223),C=o(1728),d=o(3627);function B(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Question"),t.qZA())}function q(i,s){if(1&i&&(t.TgZ(0,"td",13),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.name))}}function F(i,s){1&i&&(t.TgZ(0,"th",12),t._uU(1,"Answer"),t.qZA())}function j(i,s){if(1&i&&(t.ynx(0),t._uU(1),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.values.join(", ")," ")}}function H(i,s){1&i&&t._uU(0,"No values")}function R(i,s){if(1&i&&(t.TgZ(0,"td",13),t.YNc(1,j,2,1,"ng-container",14),t.YNc(2,H,1,0,"ng-template",null,15,t.W1O),t.qZA()),2&i){const e=s.$implicit,a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.values)("ngIfElse",a)}}function E(i,s){1&i&&t._UZ(0,"tr",16)}function W(i,s){1&i&&t._UZ(0,"tr",17)}const N=function(){return["name","values"]};let $=(()=>{class i{constructor(e){this.data=e,"string"==typeof e&&(this.data=JSON.parse(e))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-leaddetailmodal"]],decls:16,vars:5,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"table-responsive","m-t-30"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","values"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end"],["mat-stroked-button","","color","warn","mat-dialog-close",""],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],[4,"ngIf","ngIfElse"],["empty",""],["mat-header-row",""],["mat-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Complate Information of the leads"),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"table",3),t.ynx(5,4),t.YNc(6,B,2,0,"th",5),t.YNc(7,q,3,3,"td",6),t.BQk(),t.ynx(8,7),t.YNc(9,F,2,0,"th",5),t.YNc(10,R,4,2,"td",6),t.BQk(),t.YNc(11,E,1,0,"tr",8),t.YNc(12,W,1,0,"tr",9),t.qZA()()(),t.TgZ(13,"mat-dialog-actions",10)(14,"button",11),t._uU(15,"Close"),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("dataSource",a.data),t.xp6(7),t.Q6J("matHeaderRowDef",t.DdM(3,N)),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(4,N)))},dependencies:[c.O5,C.lW,h.ZT,h.uh,h.xY,h.H8,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,c.rS]}),i})();var G=o(620),U=o(4227),K=o(7556),b=o(8995),X=o(1217),I=o(9114),A=o(8097),z=o(4867),Z=o(7406),M=o(2214),u=o(6012),V=o(3630),tt=o(430),J=o(792),P=o(4365),O=o(4333);const et=function(i,s,e,a,n,l,r,p,g,T,L,w,v,qt){return{"New Lead":i,"Assigned Lead":s,"Contacted Lead":e,"Cold Lead":a,"Warm Lead":n,"Hot Lead":l,"Meeting Schdulede":r,"Meeting Complate":p,"Low-Buget":g,"No-Answer":T,"Not-Responding":L,"Incorrect Detail":w,Agent:v,Junk:qt}};function at(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"span",31),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit,a=t.oxw();t.xp6(2),t.hij(" ",t.rFY(1,et,[a.Newleads,a.Assignleads,a.Connectedleads,a.Coldleads,a.Warmleads,a.Hotleads,a.MeetingSchduledeleads,a.MeetingComplate,a.LowBuget,a.NoAnswer,a.NotResponding,a.IncorrectDetail,a.Agent,a.Junk])[e.name].length||0," ")}}function it(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.mailboxesChanged(l.id))}),t.TgZ(1,"div",26),t._UZ(2,"i-tabler",27),t.TgZ(3,"span",28),t._uU(4),t.qZA(),t.TgZ(5,"div",29),t.YNc(6,at,3,16,"ng-container",30),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(1),t.ekj("bg-light-primary",e.active),t.xp6(1),t.Udp("color",e.color),t.s9C("name",e.icon),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",1===e.id||2===e.id||3===e.id||4===e.id||5===e.id||6===e.id||7===e.id||8===e.id||9===e.id||10===e.id||11===e.id||12===e.id||13===e.id||14===e.id)}}function st(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.goToPage(l))}),t._uU(1),t.qZA()}if(2&i){const e=s.$implicit,a=t.oxw();t.ekj("active",e===a.p),t.xp6(1),t.Oqu(e)}}function nt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",25),t.NdJ("click",function(){const l=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.mailSelected(l))}),t.TgZ(1,"div",33)(2,"div",34),t._UZ(3,"mat-radio-button"),t.TgZ(4,"div",35)(5,"div")(6,"div",36)(7,"h5",37),t._uU(8),t.ALo(9,"slice"),t.qZA()(),t.TgZ(10,"span",38),t._uU(11),t.ALo(12,"slice"),t.qZA(),t.TgZ(13,"div",39)(14,"span",40),t._UZ(15,"i-tabler",41),t.qZA(),t.TgZ(16,"span",42),t._UZ(17,"i-tabler",43),t.qZA(),t.TgZ(18,"div",44)(19,"span",45),t._uU(20),t.qZA()()()()()()(),t._UZ(21,"mat-divider"),t.qZA()}if(2&i){const e=s.$implicit;t.xp6(8),t.Oqu(t.Dn7(9,3,e.customer_name,0,15)),t.xp6(3),t.hij(" ",t.Dn7(12,7,e.lead_title,0,45)," "),t.xp6(9),t.hij(" ",e.assigned_at," ")}}function ot(i,s){1&i&&(t.TgZ(0,"div",46)(1,"div",47)(2,"div")(3,"h3",48),t._uU(4,"Please Select Any Leads which lead your want see info"),t.qZA(),t._UZ(5,"img",49),t.qZA()()())}function lt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.ShwoLeadDetail(n.leadInfo.field_data))}),t._uU(1,"??"),t.qZA()}}function dt(i,s){1&i&&(t.TgZ(0,"th",93),t._uU(1," Client-Name "),t.qZA())}function rt(i,s){if(1&i&&(t.TgZ(0,"td",94),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.leadInfo.customer_name||"Invalid Clinet Name"," ")}}function mt(i,s){1&i&&(t.TgZ(0,"th",93),t._uU(1," Mobile-1"),t.qZA())}function ct(i,s){if(1&i&&(t.TgZ(0,"td",95),t._uU(1),t.qZA()),2&i){t.oxw();const e=t.MAs(17),a=t.oxw(2);t.Q6J("matMenuTriggerFor",e),t.xp6(1),t.hij(" ",a.leadInfo.customer_phone||"Unknow"," ")}}function pt(i,s){1&i&&(t.TgZ(0,"th",93),t._uU(1," Mobile-2"),t.qZA())}function ht(i,s){if(1&i&&(t.TgZ(0,"td",95),t._uU(1),t.qZA()),2&i){t.oxw();const e=t.MAs(26),a=t.oxw(2);t.Q6J("matMenuTriggerFor",e),t.xp6(1),t.hij(" ",a.leadInfo.customer_phone2||"Unknow","")}}function ut(i,s){1&i&&(t.TgZ(0,"th",93),t._uU(1," Email"),t.qZA())}function ft(i,s){if(1&i&&(t.TgZ(0,"td",95),t._uU(1),t.qZA()),2&i){t.oxw();const e=t.MAs(35),a=t.oxw(2);t.Q6J("matMenuTriggerFor",e),t.xp6(1),t.hij(" ",a.leadInfo.customer_email||"Invalid Emial"," ")}}function gt(i,s){1&i&&(t.TgZ(0,"th",96),t._uU(1," Responsible "),t.qZA())}function _t(i,s){if(1&i&&(t.TgZ(0,"td",97)(1,"div",3)(2,"div",98)(3,"h6",99),t._uU(4),t.qZA(),t.TgZ(5,"span",100),t._uU(6),t.qZA()()()()),2&i){const e=t.oxw(3);t.xp6(4),t.hij(" ",(null==e.leadInfo.agents?null:e.leadInfo.agents.client_user_name)||"Unknow"," "),t.xp6(2),t.hij(" ",(null==e.leadInfo.agents?null:e.leadInfo.agents.client_user_designation)||"Unknow"," ")}}function vt(i,s){1&i&&t._UZ(0,"tr",101)}function xt(i,s){1&i&&t._UZ(0,"tr",102)}function Ct(i,s){if(1&i&&(t.TgZ(0,"small"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("\xa0 ",e.agent_name," ")}}function bt(i,s){if(1&i&&(t.TgZ(0,"small"),t._uU(1),t.qZA()),2&i){const e=t.oxw().index,a=t.oxw(3);t.xp6(1),t.hij("\xa0 ",a.leadoptions[a.leadInfo.comments[e-1].lead_status-1].notes,"")}}function At(i,s){if(1&i&&(t.TgZ(0,"mat-card",106)(1,"mat-card-content")(2,"small"),t._uU(3),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"small"),t._uU(6),t.qZA(),t.TgZ(7,"small"),t._uU(8),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.updated_at||"Invalid Time",""),t.xp6(3),t.hij(" ",e.user_name," : "),t.xp6(2),t.hij(" ",e.lead_comment," ")}}function Zt(i,s){if(1&i&&(t.TgZ(0,"div",103)(1,"div",104)(2,"small"),t._uU(3),t.qZA(),t._uU(4," \xa0 "),t.TgZ(5,"small"),t._uU(6),t.qZA(),t.TgZ(7,"small"),t._uU(8),t.qZA(),t.YNc(9,Ct,2,1,"small",30),t.YNc(10,bt,2,1,"small",30),t.YNc(11,At,9,3,"mat-card",105),t.qZA()()),2&i){const e=s.$implicit,a=s.index,n=t.oxw(3);t.xp6(3),t.hij(" ",(null==e?null:e.created_at)||"Invalid Time"," "),t.xp6(3),t.hij(" ",null!==(null==e?null:e.user_id)?null==e?null:e.user_name:a>0?n.leadInfo.comments[a-1].user_name:""," "),t.xp6(2),t.hij(" ",n.leadoptions[e.lead_status-1].label,""),t.xp6(1),t.Q6J("ngIf",2==n.leadInfo.comments[a].lead_status),t.xp6(1),t.Q6J("ngIf",a>0),t.xp6(1),t.Q6J("ngIf",e.lead_comment)}}function Tt(i,s){if(1&i&&(t.TgZ(0,"mat-option",107),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.label,"")}}function Lt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",56)(1,"div",57)(2,"mat-card",53)(3,"mat-card-header",58)(4,"mat-card-title"),t._uU(5,"Details of the lead"),t.qZA(),t.YNc(6,lt,2,0,"button",59),t.qZA(),t.TgZ(7,"mat-card-content")(8,"div",60)(9,"table",61),t.ynx(10,62),t.YNc(11,dt,2,0,"th",63),t.YNc(12,rt,2,1,"td",64),t.BQk(),t.ynx(13,65),t.YNc(14,mt,2,0,"th",63),t.YNc(15,ct,2,2,"td",66),t.TgZ(16,"mat-menu",53,54)(18,"a",67)(19,"mat-icon",68),t._uU(20,"call"),t.qZA(),t._uU(21," Call "),t.qZA()(),t.BQk(),t.ynx(22,69),t.YNc(23,pt,2,0,"th",63),t.YNc(24,ht,2,2,"td",66),t.TgZ(25,"mat-menu",53,70)(27,"button",71),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.copyPhoneNumber(n.leadInfo.customer_phone2))}),t.TgZ(28,"mat-icon",68),t._uU(29,"content_copy"),t.qZA(),t._uU(30," Copy "),t.qZA()(),t.BQk(),t.ynx(31,72),t.YNc(32,ut,2,0,"th",63),t.YNc(33,ft,2,2,"td",66),t.TgZ(34,"mat-menu",53,73)(36,"button",71),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.copyEmail(n.leadInfo.customer_email))}),t.TgZ(37,"mat-icon",68),t._uU(38,"content_copy"),t.qZA(),t._uU(39," Copy "),t.qZA()(),t.BQk(),t.ynx(40,74),t.YNc(41,gt,2,0,"th",75),t.YNc(42,_t,7,2,"td",76),t.BQk(),t.YNc(43,vt,1,0,"tr",77),t.YNc(44,xt,1,0,"tr",78),t.qZA()()()()(),t.TgZ(45,"div",57)(46,"div",79),t.YNc(47,Zt,12,6,"div",80),t.qZA()(),t.TgZ(48,"div",57)(49,"div",81)(50,"form",82),t.NdJ("ngSubmit",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.updateLeadStaus(n,l.leadInfo.agent_id))}),t.TgZ(51,"mat-form-field",83)(52,"input",84),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw(2);return t.KtG(l.leadInfo.lead_id=n)}),t.qZA(),t._UZ(53,"input",85),t.TgZ(54,"mat-autocomplete",86,87),t.YNc(56,Tt,2,2,"mat-option",88),t.qZA()(),t.TgZ(57,"mat-form-field",89)(58,"mat-label"),t._uU(59,"Type your comments here"),t.qZA(),t._UZ(60,"textarea",90),t.qZA(),t.TgZ(61,"button",91),t._uU(62,"Send"),t.qZA()()()()()}if(2&i){const e=t.MAs(55),a=t.oxw(2);t.xp6(6),t.Q6J("ngIf",a.leadInfo&&("Facebook"===a.leadInfo.lead_source||"Instagram"===a.leadInfo.lead_source)),t.xp6(3),t.Q6J("dataSource",a.dataSource1),t.xp6(9),t.MGl("href","tel:",a.leadInfo.customer_phone||"Unknow","",t.LSH),t.xp6(25),t.Q6J("matHeaderRowDef",a.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns1),t.xp6(3),t.Q6J("ngForOf",a.leadInfo.comments),t.xp6(3),t.Q6J("formGroup",a.updateleadform),t.xp6(2),t.Q6J("ngModel",a.leadInfo.lead_id),t.xp6(1),t.Q6J("matAutocomplete",e),t.xp6(1),t.Q6J("displayWith",a.displayLeadLabel),t.xp6(2),t.Q6J("ngForOf",a.leadoptions2)}}function wt(i,s){if(1&i&&(t.TgZ(0,"div",50)(1,"div",51)(2,"div",52),t._uU(3),t.ALo(4,"slice"),t.qZA(),t._UZ(5,"mat-menu",53,54)(7,"mat-divider"),t.YNc(8,Lt,63,11,"div",55),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.hij(" ",t.Dn7(4,2,e.leadInfo.lead_title,0,45)," "),t.xp6(5),t.Q6J("ngIf",e.ms.selectedLead)}}const Dt=function(i,s){return{"side-panel-opened":i,"side-panel-closed":s}},yt=function(i){return{itemsPerPage:12,currentPage:i}},Nt=[{id:1,imagePath:"assets/images/profile/user-1.jpg",uname:"Sunil Joshi",position:"Web Designer",productName:"Elite Admin",budget:3.9,priority:"low"}],Ut=[{path:"",children:[{path:"dashboard1",component:(()=>{class i{constructor(e,a,n,l,r,p,g,T,L,w){this.leadsService=e,this.fb=a,this.mailService=n,this.ms=l,this.router=r,this.dialog=p,this._Location=g,this._AuthService=T,this._Router=L,this._cdr=w,this.allLeads=[],this.filteredLeads=[],this.Newleads=[],this.Assignleads=[],this.Connectedleads=[],this.Coldleads=[],this.Warmleads=[],this.Hotleads=[],this.MeetingSchduledeleads=[],this.MeetingComplate=[],this.NoAnswer=[],this.LowBuget=[],this.NotResponding=[],this.IncorrectDetail=[],this.Agent=[],this.Junk=[],this.sidebarVisible=!1,this.leadInfo={},this.leadoptions=[],this.leadoptions2=[],this.sidePanelOpened=!0,this.displayMode="default",this.p=1,this.stateCtrl=new m.NI(""),this.itemsPerPage=12,this.fd=new FormData,this.mediaMatcher=matchMedia("(max-width: 960px)"),this.mailboxes=f.cE,this.filters=f.hX,this.labels=f.PS,this.displayedColumns1=["Responsible-User","Mobile","Whatsapp","Email","Client-Name"],this.dataSource1=Nt,this.filteredStates=this.stateCtrl.valueChanges.pipe((0,Y.O)(""),(0,S.U)(v=>v?this._filterStates(v):this.leadoptions2.slice()))}_filterStates(e){const a=e.toLowerCase();return this.leadoptions2.filter(n=>n.label.toLowerCase().includes(a))}isOver(){return this.mediaMatcher.matches}ngOnInit(){this.userData=localStorage.getItem("userData"),this.userData?(this.user=JSON.parse(this.userData),this.loginUserId=this.user?.client_user_id):console.error("User data not found in localStorage"),this._AuthService.checkUserDataExists(this.loginUserId).subscribe(e=>{},e=>{(404==e.status||404===e.status)&&(localStorage.removeItem("userData"),this._Router.navigate(["/authentication/side-login"]))}),this.updateleadform=this.fb.group({lead_status:new m.NI("",[m.kI.required]),lead_id:new m.NI(""),lead_comment:new m.NI("",[m.kI.required])}),this.leadoptions=y.rl.leads,this.leadoptions2=y.k2.leadsoption,this.loadAllLeads()}loadAllLeads(){this.userData=localStorage.getItem("userData"),this.user=JSON.parse(this.userData),this.fd.append("login_user_id",this.user.client_user_id),this.leadsService.GetAgentAndAdminWiseLeads(this.fd).subscribe(a=>{this.allLeads=a.data,[1,2,3,4,5,6,7,8,9,10,11,12,13,14].forEach(l=>{this.filterLeads(l)})})}filterLeads(e){1===e?this.Newleads=this.allLeads.filter(a=>1==a.lead_status):2===e?this.Assignleads=this.allLeads.filter(a=>2==a.lead_status):3===e?this.Connectedleads=this.allLeads.filter(a=>3==a.lead_status):4===e?this.Coldleads=this.allLeads.filter(a=>4==a.lead_status):5===e?this.Warmleads=this.allLeads.filter(a=>5==a.lead_status):6===e?this.Hotleads=this.allLeads.filter(a=>6==a.lead_status):7===e?this.MeetingSchduledeleads=this.allLeads.filter(a=>7==a.lead_status):8===e?this.MeetingComplate=this.allLeads.filter(a=>8==a.lead_status):9===e?this.NoAnswer=this.allLeads.filter(a=>9==a.lead_status):10===e?this.LowBuget=this.allLeads.filter(a=>10==a.lead_status):11===e?this.NotResponding=this.allLeads.filter(a=>11==a.lead_status):12===e?this.IncorrectDetail=this.allLeads.filter(a=>12==a.lead_status):13===e?this.Agent=this.allLeads.filter(a=>13==a.lead_status):14===e&&(this.Junk=this.allLeads.filter(a=>14==a.lead_status))}leadUser(e){return!(null==e[1].user_id&&e[2]>0)}getAgentName(e){this.leadsService.AgentNameById(e).subscribe(a=>{a&&a.length>0?this.agentName=a[0].client_user_name:console.log("Could Not find Any User")},a=>{console.error("Error fetching agent name:",a),console.log("An error occurred while fetching agent name")})}previousPage(){this.p>1&&this.p--}nextPage(){this.p<this.getTotalPages()&&this.p++}goToPage(e){this.p=e}getTotalPages(){return Math.ceil(this.ms.leadList?.length/this.itemsPerPage)}getPageNumbers(){const e=this.getTotalPages(),a=this.p;let l,r;if(e<=3)l=1,r=e;else{const p=Math.floor(1.5);a<=p?(l=1,r=3):a+p>=e?(l=e-3+1,r=e):(l=a-p,r=a+p)}return Array.from({length:r-l+1},(p,g)=>l+g)}mailSelected(e){this.ms.selectedLead=null,this.ms.selectedLead=e,this.selectedIndex=e.lead_id,this.ms.selectedLead.seen=!0,e.seen=!0,this.ms.addClass=!0,this.leadInfo=e}removeClass(){this.ms.addClass=!1}triggerChange(){const e=document.querySelector("#triggerChange");e&&e.click()}mailboxesChanged(e){if(1!==e)switch(e){case 1:this.ms.selectedLead=null,this.ms.leadList=this.Newleads,this.ms.topLable="New Lead",this.mailActiveClass(e),this.ms.type="newleads",this.leadBoxId=e;break;case 2:this.ms.selectedLead=null,this.ms.leadList=this.Assignleads,this.ms.topLable="Assigned",this.mailActiveClass(e),this.ms.type="assignedleads",this.leadBoxId=e;break;case 3:this.ms.selectedLead=null,this.ms.leadList=this.Connectedleads,console.log(this.Connectedleads),this.ms.topLable="Contacted Lead",this.mailActiveClass(e),this.ms.type="connectedleads",this.leadBoxId=e;break;case 4:this.ms.selectedLead=null,this.ms.leadList=this.Coldleads,this.ms.topLable="Cold",this.mailActiveClass(e),this.ms.type="connectedleads",this.leadBoxId=e;break;case 5:this.ms.selectedLead=null,this.ms.leadList=this.Warmleads,this.ms.topLable="Warm",this.mailActiveClass(e),this.ms.type="warmleads",this.leadBoxId=e;break;case 6:this.ms.selectedLead=null,this.ms.leadList=this.Hotleads,this.ms.topLable="Hot",this.mailActiveClass(e),this.ms.type="hotleads",this.leadBoxId=e;break;case 7:this.ms.selectedLead=null,this.ms.leadList=this.MeetingSchduledeleads,this.ms.topLable="Meeting Schdulede",this.mailActiveClass(e),this.ms.type="meetingschdulede",this.leadBoxId=e;break;case 8:this.ms.selectedLead=null,this.ms.leadList=this.MeetingComplate,this.ms.topLable="Meeting Complate",this.mailActiveClass(e),this.ms.type="meetingschdulede",this.leadBoxId=e;break;case 9:this.ms.selectedLead=null,this.ms.leadList=this.NoAnswer,this.ms.topLable="No-Answer",this.mailActiveClass(e),this.ms.type="noanswer",this.leadBoxId=e;break;case 10:this.ms.selectedLead=null,this.ms.leadList=this.LowBuget,this.ms.topLable="Low-Buget",this.mailActiveClass(e),this.ms.type="lowbuget",this.leadBoxId=e;break;case 11:this.ms.selectedLead=null,this.ms.leadList=this.NotResponding,this.ms.topLable="Not-Responding",this.mailActiveClass(e),this.ms.type="notresponding",this.leadBoxId=e;break;case 12:this.ms.selectedLead=null,this.ms.leadList=this.IncorrectDetail,this.ms.topLable="Incorrect Detail",this.mailActiveClass(e),this.ms.type="incorrectdetail",this.leadBoxId=e;break;case 13:this.ms.selectedLead=null,this.ms.leadList=this.Agent,this.ms.topLable="Agent",this.mailActiveClass(e),this.ms.type="agent",this.leadBoxId=e;break;case 14:this.ms.selectedLead=null,this.ms.leadList=this.Junk,this.ms.topLable="Junk",this.mailActiveClass(e),this.ms.type="junk",this.leadBoxId=e}else _().fire({title:"Sorry",html:"You do not have permission to access New leads",timer:2e3,showConfirmButton:!1})}mailActiveClass(e){for(const a of f.cE)a.active=!1;f.cE.find(a=>a.id===e).active=!0}openDialog(){this.dialog.open(Q.a,{}).afterClosed().subscribe(a=>{console.log(`Dialog result: ${a}`)})}onOptionSelected(e){this.currentselectdstatus=e.option.value}displayLeadLabel(e){return e?e.label:""}updateLeadStaus(e,a){if(e.preventDefault(),this.updateleadform.valid){const l=this.updateleadform.value;var n=new FormData;n.append("lead_status",l.lead_status.lead_status),n.append("lead_id",l.lead_id),n.append("lead_comment",l.lead_comment),n.append("agent_id",a),this.loginUserId&&n.append("login_user_id",this.loginUserId),this.leadsService.UpdateSingLead(n).subscribe(r=>{"success"===r.status&&(_().fire({title:"Success",html:"Lead Update Successfully",timer:2e3,showConfirmButton:!1}),this.updateleadform.reset(),window.location.reload())},r=>{console.log(r)})}}formatDateOrToday(e){const a=new Date,n=new Date(e);if(this.isSameDate(n,a))return`Today ${this.formatTime12Hour(n)}`;const l=new Date(a);return l.setDate(a.getDate()-1),this.isSameDate(n,l)?`Yesterday ${this.formatTime12Hour(n)}`:new c.uU("en-US").transform(n,"short")}formatTime12Hour(e){return e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}isSameDate(e,a){return e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate()}copyPhoneNumber(e){const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),_().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,title:"Phone Number is copied",icon:"success"})}copyEmail(e){const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),_().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,title:"Emial is copied",icon:"success"})}openModal(e){this.dialog.open($,{width:"70%",data:e})}ShwoLeadDetail(e){this.openModal(e)}get f(){return this.updateleadform.controls}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(G.C),t.Y36(m.qu),t.Y36(U.W),t.Y36(U.L),t.Y36(x.F0),t.Y36(h.uw),t.Y36(c.Ye),t.Y36(K.e),t.Y36(x.F0),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard1"]],decls:35,vars:21,consts:[[1,"cardWithShadow","overflow-hidden"],[1,"bg-primary","text-white","p-10","d-block","d-lg-none"],[1,"m-b-0"],[1,"d-flex","align-items-center"],["mat-icon-button","",3,"click"],[1,"mat-subheading-1","m-b-0","m-l-16"],[1,"email-box",2,"height","calc(100vh - 120px)",3,"ngClass"],[1,"mail-sidebar",3,"mode","opened","open","close"],["mailnav",""],[1,"position-relative",2,"height","calc(100% - 10px)"],[1,"p-16"],[3,"click",4,"ngFor","ngForOf"],[1,"p-x-15","w-100","h-100"],[1,"row","h-100"],[1,"col-lg-4","b-r-1","p-0"],[1,"p-x-20","d-flex","align-items-center",2,"padding-top","10px","padding-bottom","10px"],[1,"f-w-500","mat-subtitle-1","f-s-16","m-0"],[1,"m-l-auto"],[1,"pagination-controls"],[2,"max-width","28px !important","background-color","#fff","margin","2px","border","1px solid #5d87ff","cursor","pointer",3,"disabled","click"],["style","max-width: 28px !important; background-color: #fff; margin: 2px; border:1px solid #5d87ff; cursor: pointer;",3,"active","click",4,"ngFor","ngForOf"],[1,"position-relative"],[1,"col-lg-8","detail-part","p-0"],["class","h-100 welcome-app",4,"ngIf"],["class","w-100",4,"ngIf"],[3,"click"],[1,"d-flex","align-items-center","inbox-list","rounded","p-16","cursor-pointer"],[1,"m-r-12","icon-18",3,"name"],[1,"f-w-400","f-s-14"],[1,"m-l-auto","d-sm-flex","align-items-center","gap-4"],[4,"ngIf"],[1,"bg-accent","rounded-pill","p-x-4","text-white"],[2,"max-width","28px !important","background-color","#fff","margin","2px","border","1px solid #5d87ff","cursor","pointer",3,"click"],[1,"mail-list","p-y-20","p-x-16","p-l-10","cursor-pointer"],[1,"d-flex","align-items-start","w-100"],[1,"m-l-10","w-100"],[1,"d-flex","align-items-center","w-100"],[1,"m-0","f-w-600","mat-subtitle-1","f-s-16"],[1,"mat-body-1"],[1,"d-flex","justify-content-center","m-t-8"],[1,"m-r-8","d-flex"],["name","star",1,"icon-18"],[1,"d-flex"],["name","alert-circle",1,"icon-18","text-error"],[1,"m-l-auto","text-end"],[1,"f-s-12","text-nowrap"],[1,"h-100","welcome-app"],[1,"d-flex","align-items-center","justify-content-center","w-100"],[1,"mat-subtitle-1",2,"margin-top","30px"],["src","/assets/images/breadcrumb/emailSv.png","width","250px"],[1,"w-100"],[1,"w-100","position-relative"],[1,"d-flex","align-items-center","p-x-16",2,"padding-top","12px","padding-bottom","13px"],[1,"cardWithShadow"],["menu","matMenu"],["class","position-relative","style","height: calc(100vh - 247px)",4,"ngIf"],[1,"position-relative",2,"height","calc(100vh - 247px)"],[1,"p-24"],[1,"d-flex","justify-content-between","align-items-center"],["style","border-radius: 0px;","mat-flat-button","","color","accent","class","m-l-10",3,"click",4,"ngIf"],[1,"table-responsive","m-t-30"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","Client-Name"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","Mobile"],["mat-cell","","class","mat-body-1","style","cursor: pointer;",3,"matMenuTriggerFor",4,"matCellDef"],["mat-menu-item","",3,"href"],[2,"font-size","20px"],["matColumnDef","Whatsapp"],["menu2","matMenu"],["mat-menu-item","",3,"click"],["matColumnDef","Email"],["menu3","matMenu"],["matColumnDef","Responsible-User"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14 p-l-0",4,"matHeaderCellDef"],["mat-cell","","class","p-l-0",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"p-t-5"],["class","",4,"ngFor","ngForOf"],[1,"m-t-10"],["id","updateleadform",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","border-0"],["type","hidden","formControlName","lead_id",3,"ngModel","ngModelChange"],["type","text","placeholder","Lead Status","aria-label","Lead Status","matInput","","formControlName","lead_status",3,"matAutocomplete"],[3,"displayWith"],["auto3","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"w-100"],["matInput","","rows","5","formControlName","lead_comment"],["mat-flat-button","","color","accent","type","submit",1,"m-l-10"],["mat-flat-button","","color","accent",1,"m-l-10",2,"border-radius","0px",3,"click"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-cell","",1,"mat-body-1",2,"cursor","pointer",3,"matMenuTriggerFor"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14","p-l-0"],["mat-cell","",1,"p-l-0"],[1,"m-l-16"],[1,"mat-subtitle-1","f-s-14","f-w-600"],[1,"mat-body-1","f-s-12"],["mat-header-row",""],["mat-row",""],[1,""],[1,"maindiv"],["class","b-1 shadow-none","style","margin-bottom: 4px;",4,"ngIf"],[1,"b-1","shadow-none",2,"margin-bottom","4px"],[3,"value"]],template:function(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){t.CHM(n);const r=t.MAs(11);return t.KtG(r.toggle())}),t.TgZ(5,"mat-icon"),t._uU(6,"short_text"),t.qZA()(),t.TgZ(7,"div",5),t._uU(8,"Inbox"),t.qZA()()()(),t.TgZ(9,"mat-sidenav-container",6)(10,"mat-sidenav",7,8),t.NdJ("open",function(){return a.sidePanelOpened=!0})("close",function(){return a.sidePanelOpened=!1}),t.TgZ(12,"ng-scrollbar",9)(13,"div",10),t.YNc(14,it,7,7,"div",11),t.qZA()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",15)(19,"h5",16),t._uU(20),t.qZA(),t.TgZ(21,"div",17)(22,"div",18)(23,"button",19),t.NdJ("click",function(){return a.previousPage()}),t._uU(24," < "),t.qZA(),t.YNc(25,st,2,3,"button",20),t.TgZ(26,"button",19),t.NdJ("click",function(){return a.nextPage()}),t._uU(27," > "),t.qZA()()()(),t._UZ(28,"mat-divider"),t.TgZ(29,"div",21),t.YNc(30,nt,22,11,"div",11),t.ALo(31,"paginate"),t.qZA()(),t.TgZ(32,"div",22),t.YNc(33,ot,6,0,"div",23),t.YNc(34,wt,9,6,"div",24),t.qZA()()()()()}2&e&&(t.xp6(9),t.Q6J("ngClass",t.WLB(16,Dt,a.sidePanelOpened,!a.sidePanelOpened)),t.xp6(1),t.Q6J("mode",a.isOver()?"over":"side")("opened",!a.isOver()),t.xp6(4),t.Q6J("ngForOf",a.mailboxes),t.xp6(6),t.Oqu(a.ms.topLable),t.xp6(3),t.Q6J("disabled",1===a.p),t.xp6(2),t.Q6J("ngForOf",a.getPageNumbers()),t.xp6(1),t.Q6J("disabled",a.p===a.getTotalPages()),t.xp6(4),t.Q6J("ngForOf",t.xi3(31,13,a.ms.leadList,t.VKq(19,yt,a.p))),t.xp6(2),t.ekj("movetodetail",a.ms.addClass),t.xp6(1),t.Q6J("ngIf",null===a.ms.selectedLead),t.xp6(1),t.Q6J("ngIf",null!==a.ms.selectedLead))},dependencies:[c.mk,c.sg,c.O5,b.XC,X.ey,b.ZL,I.KE,I.hX,A.Nt,z.U0,Z.VK,Z.OP,Z.p6,M.JX,M.TM,u.a8,u.dn,u.dk,u.n5,V.d,C.lW,C.RK,tt.Hw,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,J.b,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,P.KC,c.OU,O._s],styles:[".mail-sidebar[_ngcontent-%COMP%]{width:240px}.mail-detail-sidebar[_ngcontent-%COMP%]{width:200px;flex:1 1 auto}@media (max-width: 991px){.detail-part[_ngcontent-%COMP%]{display:none}}@media (max-width: 1279px){.detail-part.movetodetail[_ngcontent-%COMP%]{display:block;position:absolute;z-index:9;left:0;background:#fff}}@media (max-width: 1279px){.welcome-app[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     .light-theme .mat-mdc-card{margin-bottom:4px}.mat-mdc-card-content[_ngcontent-%COMP%]:first-child{padding-top:6px}.mat-mdc-card-content[_ngcontent-%COMP%]:last-child{padding-bottom:6px}.mat-mdc-card-content[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]   .mdc-notched-outline[_ngcontent-%COMP%]{height:80%!important}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding-top:8px!important;padding-bottom:8px!important}[_nghost-%COMP%]     .mat-mdc-form-field-infix{min-height:10px!important}[_nghost-%COMP%]     .ngx-pagination .current{padding:0 6px;background-color:#2199e8!important}[_nghost-%COMP%]     ::-webkit-scrollbar{height:7px}[_nghost-%COMP%]     .active{background-color:#5d87ff!important;color:#fff!important;border:1px solid #fff!important}[_nghost-%COMP%]     .mat-mdc-menu-item .mat-icon{margin-right:0!important}[_nghost-%COMP%]     .mail-sidebar{width:250px!important}"]}),i})(),data:{title:"Analytical",urls:[{title:"Dashboard",url:"/dashboards/dashboard1"},{title:"Analytical"}]}}]}];var It=o(9549),Mt=o(3669),Jt=o(2164),Pt=o(5308),Ot=o(2611),kt=o(3276),Yt=o(9383),St=o(3617),Qt=o(8280);let Bt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.ez,x.Bz.forChild(Ut),It.q,J.e,A.c,Mt.A0,u.QW,Jt._t,Pt.g,d.p0,A.c,Ot.JX,kt.TU,Yt.g0,u.QW,m.u5,m.UX,St.Nh,P.kb,O.JX,b.Bb,Qt.FA]}),i})()}}]);