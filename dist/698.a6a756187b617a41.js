"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[698],{8698:(re,_,a)=>{a.r(_),a.d(_,{UsersModule:()=>V});var f=a(4755),p=a(6873),v=a(9549),b=a(832),i=a(9401),h=a(792),C=a(5664),Z=a(8097),T=a(3669),x=a(4333),I=a(8280),U=a(2132),A=a(5226),g=a.n(A),e=a(2223),q=a(3071),N=a(1217),w=a(1292),m=a(9114),k=a(787),u=a(6012),F=a(1728),J=a(430);function Y(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Name is required."),e.qZA())}function Q(r,n){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,Y,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_name.errors&&t.f.user_name.errors.required)}}function S(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function y(r,n){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,S,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_phone.errors&&t.f.user_phone.errors.required)}}function M(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function O(r,n){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,M,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_designation.errors&&t.f.user_designation.errors.required)}}function P(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function L(r,n){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,P,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_email.errors&&t.f.user_email.errors.required)}}function j(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Password is required."),e.qZA())}function D(r,n){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,j,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_password.errors&&t.f.user_password.errors.required)}}function E(r,n){if(1&r&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function z(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Role is required."),e.qZA())}function B(r,n){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,z,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.sort_order.errors&&t.f.sort_order.errors.required)}}function G(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"label",36)(1,"mat-checkbox",37),e.NdJ("change",function(){const o=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleCheckbox(o))}),e._uU(2),e._UZ(3,"br"),e.TgZ(4,"small"),e._uU(5),e.qZA()(),e._UZ(6,"span",38),e.qZA()}if(2&r){const t=n.$implicit,s=e.oxw();e.xp6(1),e.Q6J("checked",s.isChecked(t)),e.xp6(1),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(t.badge)}}function W(r,n){1&r&&(e.TgZ(0,"div",40),e._uU(1,"UserRole is required"),e.qZA())}function R(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,W,2,0,"div",39),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.checkedItems.errors&&(null==t.f.checkedItems.errors?null:t.f.checkedItems.errors.required))}}function $(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"label",36),e._uU(1),e.TgZ(2,"mat-checkbox",41),e.NdJ("change",function(){const o=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleSelection(o))}),e.qZA(),e._UZ(3,"span",38),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.label," "),e.xp6(1),e.Q6J("checked",t.selected)}}function K(r,n){1&r&&(e.TgZ(0,"div",40),e._uU(1,"Website-Role is required"),e.qZA())}function X(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,K,2,0,"div",39),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.checkedItemsforwebsite.errors&&(null==t.f.checkedItemsforwebsite.errors?null:t.f.checkedItemsforwebsite.errors.required))}}const H=[{path:"",children:[{path:"create-user",component:(()=>{class r{constructor(t,s,l,o,c,d){this.fb=t,this.router=s,this.userservice=l,this.renderer=o,this.el=c,this.activeroute=d,this.default="Select Option",this.options=[],this.userFile=null,this.checkedItems=[],this.items=[{id:1,name:"Admin (A)",badge:"(Admin gets access to all the modules)"},{id:2,name:"Agent (AG)",badge:"(Agents will be able to see their own Listings, and the Leads generated for their listings)"},{id:3,name:"Property Listing (PL)",badge:"(Users will be able to add new Listings)"},{id:4,name:"Lead Manager (LM)",badge:"(Users will be able to view & manage all Leads)"},{id:5,name:"Sales & Marketing (SM)",badge:"(Users will be able to promote Listings (Exclusive, Trending, etc))"},{id:6,name:"Content Manager (C)",badge:"(Users will be able to manage Content (News, Banners, etc))"},{id:7,name:"Telecaller (TC)",badge:"(View and manage all Unverified Leads)"}],this.items2=[{id:1,label:"management",selected:!1},{id:2,label:"sale_agent",selected:!1},{id:3,label:"marketing_team",selected:!1},{id:4,label:"admin_team",selected:!1}],this.selectedOption=null,this.client_user_id=Number(this.activeroute.snapshot.paramMap.get("id")),""!=this.client_user_id&&this.userservice.edit(this.client_user_id).subscribe(te=>{this.userObj=te})}ngOnInit(){this.userObj={},this.userFrom=this.fb.group({user_name:new i.NI("",[i.kI.required]),user_phone:new i.NI("",[i.kI.required]),user_designation:new i.NI("",[i.kI.required]),user_email:new i.NI("",[i.kI.required]),user_password:new i.NI("",[i.kI.required]),user_status:new i.NI("",[i.kI.required]),sort_order:new i.NI("",[i.kI.required]),checkedItems:new i.NI("",[i.kI.required]),checkedItemsforwebsite:new i.NI("",[i.kI.required])}),this.userFrom.valueChanges.subscribe(t=>{this.isNextDisabled=!this.userFrom.valid}),this.options=U.vE.optionvalue}userImage(t){this.userFile=t.target.files[0],this.userFile2=t.target.files[0]}isChecked(t){return this.checkedItems.includes(t.id)}toggleCheckbox(t){this.isChecked(t)?this.checkedItems=this.checkedItems.filter(s=>s!==t.id):this.checkedItems.push(t.id)}toggleSelection(t){t.selected||(this.items2.forEach(s=>{s.selected=!1}),t.selected=!0,this.websitestatus=t.label)}get f(){return this.userFrom.controls}hideFirstFiveCharacters(t){return t.substr(5)}create(t){if(!this.userFrom.valid)return void g().fire("Something Went Wrong. Please Check All the Fields","error");const s=new FormData,l=0!==this.client_user_id,o=this.userFrom.value;s.append("client_user_role",this.checkedItems.join(",")),s.append("client_user_name",o.user_name),s.append("client_user_phone",o.user_phone),s.append("client_user_designation",o.user_designation),s.append("client_user_email",o.user_email),s.append("password",o.user_password),s.append("client_sort_order",o.sort_order),s.append("client_user_status",o.user_status),s.append("client_website_status",this.websitestatus),this.userFile&&s.append("client_user_image",this.userFile),this.userservice.create(s).subscribe(d=>{"success"==d.status?(g().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Create User Successfully",icon:"success"}),this.userFrom.reset()):g().fire("Some Thing was wrong...","","error")},d=>{console.log(d)}),(1==l?this.userservice.create(s):this.userservice.update(s)).subscribe(d=>{console.log(d)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(p.F0),e.Y36(q.K),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(p.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["appcreate-user"]],decls:91,vars:13,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"col-sm-6","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px"],["appearance","outline",1,"w-100"],["matInput","","placeholder","UserName","formControlName","user_name",2,"border-radius","0px"],["matPrefix","",1,"op-5"],["name","user",1,"icon-20","d-flex"],["class","m-b-16 error-msg",4,"ngIf"],["matInput","","type","","number","","placeholder","UserPhone","formControlName","user_phone",2,"border-radius","0px"],[1,"col-sm-12","custom_lable_col"],["matInput","","placeholder","Designation....","formControlName","user_designation",2,"border-radius","0px"],["matInput","","type","email","placeholder","Email","formControlName","user_email",2,"border-radius","0px"],["matInput","","type","password","placeholder","Password","formControlName","user_password",2,"border-radius","0px"],["name","password",1,"icon-20","d-flex"],["appearance","outline"],[1,"d-block","custom_lable"],["placeholder","Type to Search","formControlName","user_status"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","email","placeholder","Sort Order","formControlName","sort_order",2,"border-radius","0px"],[1,"col-sm-12"],[1,"mb-3"],[1,"form-label"],["type","file","placeholder","Sort Order","autocomplete","off",1,"form-control",3,"change"],[1,"row","d-flex","justify-content-end"],["type","submit","type","submit","mat-flat-button","","color","primary",3,"disabled"],["class","checkbox_container",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"m-b-16","error-msg"],["class","text-error",4,"ngIf"],[1,"text-error"],[3,"value"],[1,"checkbox_container"],["type","checkbox","formControlName","checkedItems",3,"checked","change"],[1,"checkmark"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["type","checkbox","formControlName","checkedItemsforwebsite",3,"checked","change"]],template:function(t,s){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(o){return s.create(o)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title",4),e._uU(6,"Create User"),e.qZA()(),e.TgZ(7,"mat-card-content",5)(8,"div",1)(9,"div",6)(10,"mat-label",7),e._uU(11,"UserName"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.TgZ(14,"mat-icon",10),e._UZ(15,"i-tabler",11),e.qZA(),e.YNc(16,Q,2,1,"mat-hint",12),e.qZA()(),e.TgZ(17,"div",6)(18,"mat-label",7),e._uU(19,"UserPhone"),e.qZA(),e.TgZ(20,"mat-form-field",8),e._UZ(21,"input",13),e.TgZ(22,"mat-icon",10),e._UZ(23,"i-tabler",11),e.qZA(),e.YNc(24,y,2,1,"mat-hint",12),e.qZA()(),e.TgZ(25,"div",14)(26,"mat-label",7),e._uU(27,"Designation"),e.qZA(),e.TgZ(28,"mat-form-field",8),e._UZ(29,"input",15),e.TgZ(30,"mat-icon",10),e._UZ(31,"i-tabler",11),e.qZA(),e.YNc(32,O,2,1,"mat-hint",12),e.qZA()(),e.TgZ(33,"div",6)(34,"mat-label",7),e._uU(35,"Email"),e.qZA(),e.TgZ(36,"mat-form-field",8),e._UZ(37,"input",16),e.TgZ(38,"mat-icon",10),e._UZ(39,"i-tabler",11),e.qZA(),e.YNc(40,L,2,1,"mat-hint",12),e.qZA()(),e.TgZ(41,"div",6)(42,"mat-label",7),e._uU(43,"Password"),e.qZA(),e.TgZ(44,"mat-form-field",8),e._UZ(45,"input",17),e.TgZ(46,"mat-icon",10),e._UZ(47,"i-tabler",18),e.qZA(),e.YNc(48,D,2,1,"mat-hint",12),e.qZA()(),e.TgZ(49,"div",6)(50,"mat-label",7),e._uU(51,"Status"),e.qZA(),e.TgZ(52,"mat-form-field",19)(53,"mat-label",20),e._uU(54,"Status"),e.qZA(),e.TgZ(55,"mat-select",21),e.YNc(56,E,2,2,"mat-option",22),e.qZA()()(),e.TgZ(57,"div",6)(58,"mat-label",7),e._uU(59,"Sort Order"),e.qZA(),e.TgZ(60,"mat-form-field",8),e._UZ(61,"input",23),e.TgZ(62,"mat-icon",10),e._UZ(63,"i-tabler",11),e.qZA(),e.YNc(64,B,2,1,"mat-hint",12),e.qZA()(),e.TgZ(65,"div",24)(66,"div",25)(67,"label",26),e._uU(68,"User's Photo"),e.qZA(),e.TgZ(69,"input",27),e.NdJ("change",function(o){return s.userImage(o)}),e.qZA()()()(),e._UZ(70,"br"),e.TgZ(71,"div",28)(72,"div",24)(73,"button",29),e._uU(74,"Send"),e.qZA()()()()()(),e.TgZ(75,"div",2)(76,"mat-card")(77,"mat-card-header")(78,"mat-card-title",4),e._uU(79,"User Role"),e.qZA()(),e.TgZ(80,"mat-card-content")(81,"div",25),e.YNc(82,G,7,3,"label",30),e.YNc(83,R,2,1,"div",31),e.qZA()()(),e.TgZ(84,"mat-card")(85,"mat-card-header")(86,"mat-card-title",4),e._uU(87,"User Website Role"),e.qZA()(),e.TgZ(88,"mat-card-content"),e.YNc(89,$,4,2,"label",30),e.YNc(90,X,2,1,"div",31),e.qZA()()()()()),2&t&&(e.Q6J("formGroup",s.userFrom),e.xp6(16),e.Q6J("ngIf",s.f.user_name.touched&&s.f.user_name.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_phone.touched&&s.f.user_phone.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_designation.touched&&s.f.user_designation.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_email.touched&&s.f.user_email.invalid),e.xp6(8),e.Q6J("ngIf",s.f.user_password.touched&&s.f.user_password.invalid),e.xp6(8),e.Q6J("ngForOf",s.options),e.xp6(8),e.Q6J("ngIf",s.f.sort_order.touched&&s.f.sort_order.invalid),e.xp6(9),e.Q6J("disabled",s.userFrom.invalid||s.isNextDisabled),e.xp6(9),e.Q6J("ngForOf",s.items),e.xp6(1),e.Q6J("ngIf",s.f.checkedItems.touched&&s.f.checkedItems.invalid),e.xp6(6),e.Q6J("ngForOf",s.items2),e.xp6(1),e.Q6J("ngIf",s.f.checkedItemsforwebsite.touched&&s.f.checkedItemsforwebsite.invalid))},dependencies:[f.sg,f.O5,N.ey,w.oG,m.KE,m.hX,m.bx,m.qo,Z.Nt,k.gD,u.a8,u.dn,u.dk,u.n5,F.lW,J.Hw,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,h.b],encapsulation:2}),r})(),data:{title:"User Managements",urls:[{title:"Dashboard",url:"users/create-user"},{title:"User Managements"}]}}]}];let V=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.ez,p.Bz.forChild(H),v.q,i.u5,b.FormModule,i.UX,h.e,h.e.pick(C),Z.c,T.A0,x.JX,I.FA]}),r})()}}]);