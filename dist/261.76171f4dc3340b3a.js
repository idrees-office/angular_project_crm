"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[261],{7261:(Ie,U,l)=>{l.r(U),l.d(U,{UsersModule:()=>xe});var _=l(4755),f=l(6873),w=l(9549),J=l(832),n=l(9401),Z=l(792),R=l(5664),v=l(8097),y=l(3669),F=l(4333),Q=l(8280),m=l(3627),C=l(3276),P=l(2132),Y=l(5226),c=l.n(Y),e=l(2223),A=l(3071),x=l(1217),p=l(9114),I=l(4867),D=l(787),u=l(6012),T=l(1728),N=l(430);function k(r,i){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Name is required."),e.qZA())}function O(r,i){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,k,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_name.errors&&t.f.user_name.errors.required)}}function M(r,i){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function G(r,i){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,M,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_phone.errors&&t.f.user_phone.errors.required)}}function W(r,i){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function j(r,i){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,W,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_designation.errors&&t.f.user_designation.errors.required)}}function B(r,i){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Phone is required."),e.qZA())}function H(r,i){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,B,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_email.errors&&t.f.user_email.errors.required)}}function L(r,i){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Password is required."),e.qZA())}function E(r,i){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,L,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.user_password.errors&&t.f.user_password.errors.required)}}function z(r,i){if(1&r&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}function X(r,i){1&r&&(e.TgZ(0,"div",34),e._uU(1,"Role is required."),e.qZA())}function $(r,i){if(1&r&&(e.TgZ(0,"mat-hint",32),e.YNc(1,X,2,0,"div",33),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.sort_order.errors&&t.f.sort_order.errors.required)}}function K(r,i){if(1&r&&(e.TgZ(0,"mat-radio-button",35),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function V(r,i){1&r&&(e.TgZ(0,"div",37),e._uU(1,"UserRole is required"),e.qZA())}function ee(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,V,2,0,"div",36),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.checkedItems.errors&&(null==t.f.checkedItems.errors?null:t.f.checkedItems.errors.required))}}let te=(()=>{class r{constructor(t,o,s,a,d,g){this.fb=t,this.router=o,this._UserService=s,this.renderer=a,this.el=d,this.activeroute=g,this.default="Select Option",this.options=[],this.userFile=null,this.checkedItems=[],this.selectedOption=null,this._UserService.GetUserRoles().subscribe(b=>{this.DefineRoles=b},b=>{c().fire("Error in the fetching roles","error"),(403==b.status||403===b.status)&&this.router.navigate(["error"])})}ngOnInit(){this.userObj={},this.userFrom=this.fb.group({user_name:new n.NI("",[n.kI.required]),user_phone:new n.NI("",[n.kI.required]),user_designation:new n.NI("",[n.kI.required]),user_email:new n.NI("",[n.kI.required]),user_password:new n.NI("",[n.kI.required]),user_status:new n.NI("",[n.kI.required]),sort_order:new n.NI("",[n.kI.required]),checkedItems:new n.NI("",[n.kI.required])}),this.userFrom.valueChanges.subscribe(t=>{this.isNextDisabled=!this.userFrom.valid}),this.options=P.vE.optionvalue}userImage(t){this.userFile=t.target.files[0],this.userFile2=t.target.files[0]}isChecked(t){return this.checkedItems.includes(t.id)}toggleCheckbox(t){this.isChecked(t)?this.checkedItems=this.checkedItems.filter(o=>o!==t.id):this.checkedItems.push(t.id)}toggleRadio(){this.roleId=this.userFrom.value.checkedItems}get f(){return this.userFrom.controls}hideFirstFiveCharacters(t){return t.substr(5)}create(t){if(!this.userFrom.valid)return void c().fire("Something Went Wrong. Please Check All the Fields","error");const o=new FormData;this.roleId&&o.append("role_id",this.roleId)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.qu),e.Y36(f.F0),e.Y36(A.K),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(f.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["appcreate-user"]],decls:85,vars:11,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"col-sm-6","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px"],["appearance","outline",1,"w-100"],["matInput","","placeholder","UserName","formControlName","user_name",2,"border-radius","0px"],["matPrefix","",1,"op-5"],["name","user",1,"icon-20","d-flex"],["class","m-b-16 error-msg",4,"ngIf"],["matInput","","type","","number","","placeholder","UserPhone","formControlName","user_phone",2,"border-radius","0px"],[1,"col-sm-12","custom_lable_col"],["matInput","","placeholder","Designation....","formControlName","user_designation",2,"border-radius","0px"],["matInput","","type","email","placeholder","Email","formControlName","user_email",2,"border-radius","0px"],["matInput","","type","password","placeholder","Password","formControlName","user_password",2,"border-radius","0px"],["name","password",1,"icon-20","d-flex"],["appearance","outline"],[1,"d-block","custom_lable"],["placeholder","Type to Search","formControlName","user_status"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","email","placeholder","Sort Order","formControlName","sort_order",2,"border-radius","0px"],[1,"col-sm-12"],[1,"mb-3"],[1,"form-label"],["type","file","placeholder","Sort Order","autocomplete","off",1,"form-control",3,"change"],[1,"row","d-flex","justify-content-end"],["type","submit","type","submit","mat-flat-button","","color","primary",3,"disabled"],["formControlName","checkedItems",3,"change"],[4,"ngIf"],[1,"m-b-16","error-msg"],["class","text-error",4,"ngIf"],[1,"text-error"],[3,"value"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(a){return o.create(a)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title",4),e._uU(6,"Create User"),e.qZA()(),e.TgZ(7,"mat-card-content",5)(8,"div",1)(9,"div",6)(10,"mat-label",7),e._uU(11,"UserName"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.TgZ(14,"mat-icon",10),e._UZ(15,"i-tabler",11),e.qZA(),e.YNc(16,O,2,1,"mat-hint",12),e.qZA()(),e.TgZ(17,"div",6)(18,"mat-label",7),e._uU(19,"UserPhone"),e.qZA(),e.TgZ(20,"mat-form-field",8),e._UZ(21,"input",13),e.TgZ(22,"mat-icon",10),e._UZ(23,"i-tabler",11),e.qZA(),e.YNc(24,G,2,1,"mat-hint",12),e.qZA()(),e.TgZ(25,"div",14)(26,"mat-label",7),e._uU(27,"Designation"),e.qZA(),e.TgZ(28,"mat-form-field",8),e._UZ(29,"input",15),e.TgZ(30,"mat-icon",10),e._UZ(31,"i-tabler",11),e.qZA(),e.YNc(32,j,2,1,"mat-hint",12),e.qZA()(),e.TgZ(33,"div",6)(34,"mat-label",7),e._uU(35,"Email"),e.qZA(),e.TgZ(36,"mat-form-field",8),e._UZ(37,"input",16),e.TgZ(38,"mat-icon",10),e._UZ(39,"i-tabler",11),e.qZA(),e.YNc(40,H,2,1,"mat-hint",12),e.qZA()(),e.TgZ(41,"div",6)(42,"mat-label",7),e._uU(43,"Password"),e.qZA(),e.TgZ(44,"mat-form-field",8),e._UZ(45,"input",17),e.TgZ(46,"mat-icon",10),e._UZ(47,"i-tabler",18),e.qZA(),e.YNc(48,E,2,1,"mat-hint",12),e.qZA()(),e.TgZ(49,"div",6)(50,"mat-label",7),e._uU(51,"Status"),e.qZA(),e.TgZ(52,"mat-form-field",19)(53,"mat-label",20),e._uU(54,"Status"),e.qZA(),e.TgZ(55,"mat-select",21),e.YNc(56,z,2,2,"mat-option",22),e.qZA()()(),e.TgZ(57,"div",6)(58,"mat-label",7),e._uU(59,"Sort Order"),e.qZA(),e.TgZ(60,"mat-form-field",8),e._UZ(61,"input",23),e.TgZ(62,"mat-icon",10),e._UZ(63,"i-tabler",11),e.qZA(),e.YNc(64,$,2,1,"mat-hint",12),e.qZA()(),e.TgZ(65,"div",24)(66,"div",25)(67,"label",26),e._uU(68,"User's Photo"),e.qZA(),e.TgZ(69,"input",27),e.NdJ("change",function(a){return o.userImage(a)}),e.qZA()()()(),e._UZ(70,"br"),e.TgZ(71,"div",28)(72,"div",24)(73,"button",29),e._uU(74,"Send"),e.qZA()()()()()(),e.TgZ(75,"div",2)(76,"mat-card")(77,"mat-card-header")(78,"mat-card-title",4),e._uU(79,"User Role"),e.qZA()(),e.TgZ(80,"mat-card-content")(81,"div",25)(82,"mat-radio-group",30),e.NdJ("change",function(){return o.toggleRadio()}),e.YNc(83,K,2,2,"mat-radio-button",22),e.qZA(),e.YNc(84,ee,2,1,"div",31),e.qZA()()()()()()),2&t&&(e.Q6J("formGroup",o.userFrom),e.xp6(16),e.Q6J("ngIf",o.f.user_name.touched&&o.f.user_name.invalid),e.xp6(8),e.Q6J("ngIf",o.f.user_phone.touched&&o.f.user_phone.invalid),e.xp6(8),e.Q6J("ngIf",o.f.user_designation.touched&&o.f.user_designation.invalid),e.xp6(8),e.Q6J("ngIf",o.f.user_email.touched&&o.f.user_email.invalid),e.xp6(8),e.Q6J("ngIf",o.f.user_password.touched&&o.f.user_password.invalid),e.xp6(8),e.Q6J("ngForOf",o.options),e.xp6(8),e.Q6J("ngIf",o.f.sort_order.touched&&o.f.sort_order.invalid),e.xp6(9),e.Q6J("disabled",o.userFrom.invalid||o.isNextDisabled),e.xp6(10),e.Q6J("ngForOf",o.DefineRoles),e.xp6(1),e.Q6J("ngIf",o.f.checkedItems.touched&&o.f.checkedItems.invalid))},dependencies:[_.sg,_.O5,x.ey,p.KE,p.hX,p.bx,p.qo,v.Nt,I.VQ,I.U0,D.gD,u.a8,u.dn,u.dk,u.n5,T.lW,N.Hw,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,Z.b],encapsulation:2}),r})();var h=l(2611);function re(r,i){1&r&&(e.TgZ(0,"div",28),e._uU(1,"Name is required."),e.qZA())}function oe(r,i){if(1&r&&(e.TgZ(0,"mat-hint",26),e.YNc(1,re,2,0,"div",27),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.name.errors&&t.f.name.errors.required)}}function ie(r,i){1&r&&(e.TgZ(0,"mat-header-cell",29),e._uU(1," ID "),e.qZA())}function se(r,i){if(1&r&&(e.TgZ(0,"mat-cell",30),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.hij(" ",t.counter," ")}}function ne(r,i){1&r&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," Role "),e.qZA())}function ae(r,i){if(1&r&&(e.TgZ(0,"mat-cell")(1,"div",32)(2,"span",33),e._uU(3),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.name||"Invalid Role")}}function le(r,i){1&r&&(e.TgZ(0,"mat-header-cell",31),e._uU(1," Actions "),e.qZA())}function me(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"div",32)(2,"a",34),e.NdJ("click",function(s){const d=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.Delete(s,d.id))}),e._UZ(3,"i-tabler",35),e.qZA(),e.TgZ(4,"a",36),e._UZ(5,"i-tabler",37),e.qZA()()()}if(2&r){const t=i.$implicit;e.xp6(4),e.MGl("routerLink","/users/edit-role/",t.id,"")}}function ce(r,i){1&r&&e._UZ(0,"mat-header-row")}function ue(r,i){1&r&&e._UZ(0,"mat-row")}const de=function(){return[3,10,25,100]};let S=(()=>{class r{constructor(t,o,s,a){this.fb=t,this._UserService=o,this._ActivatedRoute=s,this._Router=a,this.displayedColumns=["id","name","actions"],this.paginator=Object.create(null),this.sort=Object.create(null),this.editroleid=Number(this._ActivatedRoute.snapshot.paramMap.get("id")),this.editroleid&&this._UserService.EditRoleService(this.editroleid).subscribe(g=>{this.RoleObj=g},g=>{c().fire("SomeThing Is Wrong","error")})}ngOnInit(){this.RoleObj={},this.roleFrom=this.fb.group({name:new n.NI("",[n.kI.required])}),this.roleFrom.valueChanges.subscribe(t=>{this.isNextDisabled=!this.roleFrom.valid}),this.fetchRoles()}fetchRoles(){this._UserService.GetUserRoles().subscribe(t=>{t.forEach((o,s)=>{o.counter=s+1}),this.dataSource=new m.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},t=>{c().fire("Something Went Wrong")})}ngAfterViewInit(){this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort)}CreateRole(t){if(!this.roleFrom.valid)return void c().fire("Something Went Wrong. Please Check All the Fields","error");const o=new FormData;let a;o.append("name",this.roleFrom.value.name),0==this.editroleid||0===this.editroleid?a=this._UserService.CreateRoleServices(o):(o.append("id",String(this.editroleid)),a=this._UserService.UpdateRoleService(o)),a.subscribe(d=>{"success"===d.status&&(c().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Create Role Successfully",icon:"success"}),this.roleFrom.reset(),this.fetchRoles()),"update"===d.status&&(c().fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Update Role Successfully",icon:"success"}),this.roleFrom.reset(),this.fetchRoles(),this._Router.navigate(["users/create-role"]))},d=>{c().fire("Something Is Wrong","error")})}Delete(t,o){c().fire({title:"Are you sure want to remove?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(s=>{s.isConfirmed&&this._UserService.DeleteRole(o).subscribe(a=>{"delete"===a.status&&(c().fire({title:"Success",html:"Lead Delete Successfully",timer:2e3,showConfirmButton:!1}),this.fetchRoles())},a=>{console.log(a)})})}get f(){return this.roleFrom.controls}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.qu),e.Y36(A.K),e.Y36(f.gz),e.Y36(f.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-createrole"]],viewQuery:function(t,o){if(1&t&&(e.Gf(C.NW,7),e.Gf(h.YE,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first),e.iGM(s=e.CRH())&&(o.sort=s.first)}},decls:34,vars:9,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-6"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"col-sm-12","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Role","formControlName","name",2,"border-radius","0px",3,"ngModel","ngModelChange"],["matPrefix","",1,"op-5"],["name","user",1,"icon-20","d-flex"],["class","m-b-16 error-msg",4,"ngIf"],["type","submit","type","submit","mat-flat-button","","color","primary",3,"disabled"],[1,"table-responsive","m-t-30"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16 p-l-0",4,"matHeaderCellDef"],["class","p-l-0",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],[1,"m-b-16","error-msg"],["class","text-error",4,"ngIf"],[1,"text-error"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16","p-l-0"],[1,"p-l-0"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16"],[1,"d-flex","align-items-center","gap-12"],[1,"f-s-16"],[1,"m-r-10","cursor-pointer",3,"click"],["name","trash",1,"icon-18",2,"color","red"],[1,"m-r-10","cursor-pointer",3,"routerLink"],["name","edit",1,"icon-18",2,"color","green"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(a){return o.CreateRole(a)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-card-title",4),e._uU(6,"Create User"),e.qZA()(),e.TgZ(7,"mat-card-content",5)(8,"div",1)(9,"div",6)(10,"mat-label",7),e._uU(11,"Add Role"),e.qZA(),e.TgZ(12,"mat-form-field",8)(13,"input",9),e.NdJ("ngModelChange",function(a){return o.RoleObj.name=a}),e.qZA(),e.TgZ(14,"mat-icon",10),e._UZ(15,"i-tabler",11),e.qZA(),e.YNc(16,oe,2,1,"mat-hint",12),e.qZA(),e.TgZ(17,"button",13),e._uU(18,"Add"),e.qZA()()()()()(),e.TgZ(19,"div",2)(20,"div",14)(21,"mat-table",15),e.ynx(22,16),e.YNc(23,ie,2,0,"mat-header-cell",17),e.YNc(24,se,2,1,"mat-cell",18),e.BQk(),e.ynx(25,19),e.YNc(26,ne,2,0,"mat-header-cell",20),e.YNc(27,ae,4,1,"mat-cell",21),e.BQk(),e.ynx(28,22),e.YNc(29,le,2,0,"mat-header-cell",20),e.YNc(30,me,6,1,"mat-cell",21),e.BQk(),e.YNc(31,ce,1,0,"mat-header-row",23),e.YNc(32,ue,1,0,"mat-row",24),e.qZA(),e._UZ(33,"mat-paginator",25),e.qZA()()()()),2&t&&(e.Q6J("formGroup",o.roleFrom),e.xp6(13),e.Q6J("ngModel",o.RoleObj.name),e.xp6(3),e.Q6J("ngIf",o.f.name.touched&&o.f.name.invalid),e.xp6(1),e.Q6J("disabled",o.roleFrom.invalid||o.isNextDisabled),e.xp6(4),e.Q6J("dataSource",o.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,de)))},dependencies:[_.O5,f.rH,p.KE,p.hX,p.bx,p.qo,v.Nt,u.a8,u.dn,u.dk,u.n5,T.lW,N.Hw,C.NW,h.YE,h.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,Z.b]}),r})();var pe=l(620),q=l(8995),fe=l(1292);function he(r,i){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name,"")}}function ge(r,i){if(1&r&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.client_user_name,"")}}function _e(r,i){1&r&&(e.TgZ(0,"mat-header-cell",29),e._uU(1," ID "),e.qZA())}function Ce(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"mat-cell",30)(1,"label",31)(2,"mat-checkbox",32),e.NdJ("change",function(){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.toggleCheckbox(a))}),e.qZA(),e._UZ(3,"span",33),e.qZA(),e._uU(4),e.qZA()}if(2&r){const t=i.$implicit,o=e.oxw();e.xp6(2),e.Q6J("checked",o.isChecked(t))("value",t.id),e.xp6(2),e.hij(" ",t.counter," ")}}function Ze(r,i){1&r&&(e.TgZ(0,"mat-header-cell",34),e._uU(1," Role "),e.qZA())}function ve(r,i){if(1&r&&(e.TgZ(0,"mat-cell")(1,"div",35)(2,"span",36),e._uU(3),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(3),e.Oqu(t.name||"Invalid Role")}}function be(r,i){1&r&&e._UZ(0,"mat-header-row")}function Ae(r,i){1&r&&e._UZ(0,"mat-row")}const Te=function(){return[20,25,50,100]},Ue=[{path:"",children:[{path:"create-user",component:te,data:{title:"User Managements",urls:[{title:"Dashboard",url:"users/create-user"},{title:"User Managements"}]}},{path:"create-role",component:S,data:{title:"Create Role",urls:[{title:"Dashboard",url:"users/create-role"},{title:"Create Role"}]}},{path:"edit-role/:id",component:S,data:{title:"Create Role",urls:[{title:"Dashboard",url:"users/create-role"},{title:"Create Role"}]}},{path:"assign-permission",component:(()=>{class r{constructor(t,o,s){this._fb=t,this._UserService=o,this._LeadsService=s,this.checkedItems=[],this.displayedColumns=["id","name"],this.paginator=Object.create(null),this.sort=Object.create(null)}ngOnInit(){this.AssignPermissionFrom=this._fb.group({roles:new n.NI(""),clients:new n.NI(""),checkedItems:new n.NI("",[n.kI.required])}),this.getrole(),this.agents(),this.getPermission()}displayLeadLabel(t){return t?t.name:""}displayLeadLabel2(t){return t?t.client_user_name:""}getrole(){this._UserService.GetUserRoles().subscribe(t=>{this.AllRole=t})}agents(){this._LeadsService.getAgentInfo().subscribe(t=>{this.allAgents=t},t=>{console.log(t)})}isChecked(t){return this.checkedItems.includes(t.id)}selectCheckboxesBasedOnResponseIds(t){this.checkedItems=t,console.log(this.checkedItems)}toggleCheckbox(t){this.isChecked(t)?this.checkedItems=this.checkedItems.filter(o=>o!==t.id):this.checkedItems.push(t.id)}getPermission(){this._UserService.PermissionService().subscribe(t=>{t.forEach((o,s)=>{o.counter=s+1}),this.dataSource=new m.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},t=>{c().fire("Something Went Wrong")})}userRole(t){const o=this.AssignPermissionFrom.get("clients");null!==o&&o.reset(),this._UserService.GetRolePermissionService(t.id).subscribe(a=>{this.selectCheckboxesBasedOnResponseIds(a)})}users(t){const o=this.AssignPermissionFrom.get("roles");null!==o&&o.reset(),this._UserService.GetUserPermissionService(t).subscribe(a=>{this.selectCheckboxesBasedOnResponseIds(a)},a=>{console.log(a)})}Delete(t,o){}AssignPermission(t){if(!this.AssignPermissionFrom.valid)return void c().fire("Something Went Wrong. Please Check All the Fields","error");const o=new FormData,s=this.AssignPermissionFrom.value;(null!==s.clients||null!=s.clients)&&o.append("client_user_id",s.clients.client_user_id),(null!==s.roles||null!=s.roles)&&o.append("role_id",s.roles.id),o.append("permission",this.checkedItems.join(",")),this._UserService.AssignPermissionService(o).subscribe(a=>{"success"===a.status&&c().fire({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,title:"Permission Assign Successfully",icon:"success"})},a=>{console.log(a)})}get f(){return this.AssignPermissionFrom.controls}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.qu),e.Y36(A.K),e.Y36(pe.C))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-assign-permission"]],viewQuery:function(t,o){if(1&t&&(e.Gf(C.NW,7),e.Gf(h.YE,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first),e.iGM(s=e.CRH())&&(o.sort=s.first)}},decls:41,vars:13,consts:[["id","users","enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"row"],[1,"col-lg-6"],[1,"col-sm-12","custom_lable_col"],[1,"d-block","custom_lable",2,"font-size","10px","margin-left","10px"],["appearance","outline",1,"w-100"],["type","text","placeholder","Select Role","aria-label","Number","matInput","","formControlName","roles",3,"matAutocomplete"],[3,"displayWith","optionSelected"],["auto3","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Select Agent","aria-label","Number","matInput","","formControlName","clients",3,"matAutocomplete"],["auto4","matAutocomplete"],[1,"col-12"],[1,"table-responsive","m-t-30"],["matSort","",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16 p-l-0",4,"matHeaderCellDef"],["class","p-l-0",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","","class","f-w-600 mat-subtitle-1 f-s-16",4,"matHeaderCellDef"],[4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["type","submit","type","submit","mat-flat-button","","color","primary",2,"border-radius","0px",3,"disabled"],[3,"value"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16","p-l-0"],[1,"p-l-0"],[1,"checkbox_container"],["formControlName","checkedItems",3,"checked","value","change"],[1,"checkmark"],["mat-sort-header","",1,"f-w-600","mat-subtitle-1","f-s-16"],[1,"d-flex","align-items-center","gap-12"],[1,"f-s-16"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(a){return o.AssignPermission(a)}),e.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4,"Assign Permission"),e.qZA()(),e.TgZ(5,"mat-card-content",3)(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6)(10,"mat-label",7),e._uU(11,"User-Role"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.TgZ(14,"mat-autocomplete",10,11),e.NdJ("optionSelected",function(a){return o.userRole(a.option.value)}),e.YNc(16,he,2,2,"mat-option",12),e.qZA()()()()(),e.TgZ(17,"div",5)(18,"div",4)(19,"div",6)(20,"mat-label",7),e._uU(21,"Users"),e.qZA(),e.TgZ(22,"mat-form-field",8),e._UZ(23,"input",13),e.TgZ(24,"mat-autocomplete",10,14),e.NdJ("optionSelected",function(a){return o.users(a.option.value.client_user_id)}),e.YNc(26,ge,2,2,"mat-option",12),e.qZA()()()()(),e.TgZ(27,"div",15)(28,"div",16)(29,"mat-table",17),e.ynx(30,18),e.YNc(31,_e,2,0,"mat-header-cell",19),e.YNc(32,Ce,5,3,"mat-cell",20),e.BQk(),e.ynx(33,21),e.YNc(34,Ze,2,0,"mat-header-cell",22),e.YNc(35,ve,4,1,"mat-cell",23),e.BQk(),e.YNc(36,be,1,0,"mat-header-row",24),e.YNc(37,Ae,1,0,"mat-row",25),e.qZA(),e._UZ(38,"mat-paginator",26),e.TgZ(39,"button",27),e._uU(40,"Assign"),e.qZA()()()()()()()),2&t){const s=e.MAs(15),a=e.MAs(25);e.Q6J("formGroup",o.AssignPermissionFrom),e.xp6(13),e.Q6J("matAutocomplete",s),e.xp6(1),e.Q6J("displayWith",o.displayLeadLabel),e.xp6(2),e.Q6J("ngForOf",o.AllRole),e.xp6(7),e.Q6J("matAutocomplete",a),e.xp6(1),e.Q6J("displayWith",o.displayLeadLabel2),e.xp6(2),e.Q6J("ngForOf",o.allAgents),e.xp6(3),e.Q6J("dataSource",o.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(12,Te)),e.xp6(1),e.Q6J("disabled",o.AssignPermissionFrom.invalid||o.isNextDisabled)}},dependencies:[_.sg,q.XC,x.ey,q.ZL,fe.oG,p.KE,p.hX,v.Nt,u.a8,u.dn,u.dk,u.n5,T.lW,C.NW,h.YE,h.nU,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),r})(),data:{title:"Assign Permission",urls:[{title:"Dashboard",url:"users/assign-permission"},{title:"Assign Permission"}]}}]}];let xe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.ez,f.Bz.forChild(Ue),w.q,n.u5,J.FormModule,n.UX,Z.e,Z.e.pick(R),v.c,y.A0,F.JX,Q.FA,m.p0,C.TU]}),r})()}}]);